YUI.add("hermes-template-fluid-share-panel",function(t,n){var a=t.Template.Handlebars.revive({1:function(t,n,a,l,e){return" sharing-type-disabled"},3:function(t,n,a,l,e){return" sharing-type-enabled"},5:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canNotShareTitle:s,n))+'"'},7:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canNotShareTitle:s,n))+'"'},9:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canNotShareTitle:s,n))+'"'},11:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canNotShareTitle:s,n))+'"'},13:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canNotShareTitle:s,n))+'"'},15:function(t,n,a,l,e){return" single-link-field"},17:function(t,n,a,l,e){return" ms-edge "},19:function(t,n,a,l,e){return" single-link"},21:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing;return(null!=(s=(a.isFlipped||n&&n.isFlipped||r).call(i,"enable-embedr-in-share",{name:"isFlipped",hash:{},fn:t.program(22,e,0),inverse:t.noop,data:e}))?s:"")+(null!=(s=(a.isNotFlipped||n&&n.isNotFlipped||r).call(i,"enable-embedr-in-share",{name:"isNotFlipped",hash:{},fn:t.program(25,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(i,null!=(s=null!=n?n.linkShareDisplay:n)?s.bbCode:s,{name:"if",hash:{},fn:t.program(30,e,0),inverse:t.noop,data:e}))?s:"")},22:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=(s=null!=n?n.linkShareDisplay:n)?s.embedr:s,{name:"if",hash:{},fn:t.program(23,e,0),inverse:t.noop,data:e}))?s:""},23:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t\t<span class="link-type-button embed-type-button">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMBED"},data:e}))+"</span>\n"},25:function(t,n,a,l,e){var s,i=null!=n?n:{};return(null!=(s=a.if.call(i,null!=(s=null!=n?n.linkShareDisplay:n)?s.embedr:s,{name:"if",hash:{},fn:t.program(26,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(i,null!=(s=null!=n?n.linkShareDisplay:n)?s.iframe:s,{name:"if",hash:{},fn:t.program(28,e,0),inverse:t.noop,data:e}))?s:"")},26:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t\t<span class="link-type-button embed-type-button">HTML</span>\n'},28:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t\t<span class="link-type-button iframe-type-button">IFRAME</span>\n'},30:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t<span class="link-type-button bbcode-type-button">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"share-modal.BBCODE"},data:e}))+"</span>\n"},32:function(t,n,a,l,e){return" single-highlight"},34:function(t,n,a,l,e){var s,i,r=null!=n?n:{},o=a.helperMissing,u=t.escapeExpression;return'\t\t\t\t\t\t<div class="grab-link-only grab-link">\n\n'+(null!=(s=a.if.call(r,null!=n?n.canHaveGuestpass:n,{name:"if",hash:{},fn:t.program(35,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t\t<input readonly type="text" class="grab-link-text-field" value="'+u("function"==typeof(i=null!=(i=a.grabLink||(null!=n?n.grabLink:n))?i:o)?i.call(r,{name:"grabLink",hash:{},data:e}):i)+'">\n\n\t\t\t\t\t\t\t<div class="grab-link-loader '+(null!=(s=a.unless.call(r,null!=n?n.canHaveGuestpass:n,{name:"unless",hash:{},fn:t.program(38,e,0),inverse:t.noop,data:e}))?s:"")+" "+(null!=(s=a.unless.call(r,null!=n?n.choiceOfPermission:n,{name:"unless",hash:{},fn:t.program(40,e,0),inverse:t.noop,data:e}))?s:"")+'"><div class="balls"></div></div>\n\n\t\t\t\t\t\t\t<div class="grab-link-reminders">\n\t\t\t\t\t\t\t\t<div class="grab-link-privacy-reminder hide-reminder'+(null!=(s=a.if.call(r,null!=n?n.canHaveGuestpass:n,{name:"if",hash:{},fn:t.program(42,e,0),inverse:t.noop,data:e}))?s:"")+'">'+u("function"==typeof(i=null!=(i=a.privacyWarningString||(null!=n?n.privacyWarningString:n))?i:o)?i.call(r,{name:"privacyWarningString",hash:{},data:e}):i)+"</div>\n\t\t\t\t\t\t\t\t"+(null!=(s=a.if.call(r,null!=n?n.showDownloadWarning:n,{name:"if",hash:{},fn:t.program(44,e,0),inverse:t.noop,data:e}))?s:"")+"\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n"},35:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.choiceOfPermission:n,{name:"if",hash:{},fn:t.program(36,e,0),inverse:t.noop,data:e}))?s:""},36:function(t,n,a,l,e){var s;return'\t\t\t\t\t\t\t\t<div class="grab-link-permission-field grab-link-field">\n\t\t\t\t\t\t\t\t\t<span class="grab-link-permission-label">'+t.escapeExpression("function"==typeof(s=null!=(s=a.grabLinkDefaultPermission||(null!=n?n.grabLinkDefaultPermission:n))?s:a.helperMissing)?s.call(null!=n?n:{},{name:"grabLinkDefaultPermission",hash:{},data:e}):s)+'</span>\n\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t</div>\n'},38:function(t,n,a,l,e){return" no-permission-loader"},40:function(t,n,a,l,e){return"no-permission-loader"},42:function(t,n,a,l,e){return" with-guestpasses "},44:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'<div class="grab-link-download-reminder">'+o("function"==typeof(s=null!=(s=a.downloadAccessString||(null!=n?n.downloadAccessString:n))?s:r)?s.call(i,{name:"downloadAccessString",hash:{},data:e}):s)+" "+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{url:"/account/prefs/downloads/",intlName:"share-modal.CHANGE_DOWNLOAD_PREF"},data:e}))+"</div>"},46:function(t,n,a,l,e){var s,i,r=null!=n?n:{},o=a.helperMissing,u=t.escapeExpression;return'\t\t\t\t\t\t<div class="sliding-frame">\n\n\t\t\t\t\t\t\t<div class="link-type-content grab-link">\n\n'+(null!=(s=a.if.call(r,null!=n?n.canHaveGuestpass:n,{name:"if",hash:{},fn:t.program(47,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t\t\t<input readonly type="text" class="grab-link-text-field" value="'+u("function"==typeof(i=null!=(i=a.grabLink||(null!=n?n.grabLink:n))?i:o)?i.call(r,{name:"grabLink",hash:{},data:e}):i)+'">\n\n\t\t\t\t\t\t\t\t<div class="grab-link-loader '+(null!=(s=a.unless.call(r,null!=n?n.choiceOfPermission:n,{name:"unless",hash:{},fn:t.program(40,e,0),inverse:t.noop,data:e}))?s:"")+'"><div class="balls"></div></div>\n\n\t\t\t\t\t\t\t\t<div class="grab-link-reminders">\n\t\t\t\t\t\t\t\t\t<div class="grab-link-privacy-reminder '+(null!=(s=a.unless.call(r,null!=n?n.canHaveGuestpass:n,{name:"unless",hash:{},fn:t.program(50,e,0),inverse:t.program(42,e,0),data:e}))?s:"")+'">'+u("function"==typeof(i=null!=(i=a.privacyWarningString||(null!=n?n.privacyWarningString:n))?i:o)?i.call(r,{name:"privacyWarningString",hash:{},data:e}):i)+"</div>\n\t\t\t\t\t\t\t\t\t"+(null!=(s=a.if.call(r,null!=n?n.showDownloadWarning:n,{name:"if",hash:{},fn:t.program(44,e,0),inverse:t.noop,data:e}))?s:"")+"\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\n"+(null!=(s=a.if.call(r,null!=(s=null!=n?n.linkShareDisplay:n)?s.embedr:s,{name:"if",hash:{},fn:t.program(52,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(r,null!=(s=null!=n?n.linkShareDisplay:n)?s.iframe:s,{name:"if",hash:{},fn:t.program(54,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(r,null!=(s=null!=n?n.linkShareDisplay:n)?s.bbCode:s,{name:"if",hash:{},fn:t.program(56,e,0),inverse:t.noop,data:e}))?s:"")+"\t\t\t\t\t\t</div>\n\n"},47:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.choiceOfPermission:n,{name:"if",hash:{},fn:t.program(48,e,0),inverse:t.noop,data:e}))?s:""},48:function(t,n,a,l,e){var s;return'\t\t\t\t\t\t\t\t\t<div class="grab-link-permission-field grab-link-field">\n\t\t\t\t\t\t\t\t\t\t<span class="grab-link-permission-label">'+t.escapeExpression("function"==typeof(s=null!=(s=a.grabLinkDefaultPermission||(null!=n?n.grabLinkDefaultPermission:n))?s:a.helperMissing)?s.call(null!=n?n:{},{name:"grabLinkDefaultPermission",hash:{},data:e}):s)+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t\t</div>\n'},50:function(t,n,a,l,e){return" hide-reminder"},52:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t\t<div class="link-type-content html-embed">\n\t\t\t\t\t\t\t\t\t<div class="embed-code-size-field embed-size-field">\n\t\t\t\t\t\t\t\t\t\t<span class="embed-code-label">\n\t\t\t\t\t\t\t\t\t\t'+o((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||r).call(i,null!=n?n.defaultSizeStr:n,{name:"renderTrustedMarkup",hash:{},data:e}))+'\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input readonly type="text" class="embed-code-text-field" value="'+o("function"==typeof(s=null!=(s=a.defaultEmbedrCode||(null!=n?n.defaultEmbedrCode:n))?s:r)?s.call(i,{name:"defaultEmbedrCode",hash:{},data:e}):s)+'">\n\n\t\t\t\t\t\t\t\t</div>\n'},54:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t\t<div class="link-type-content html-iframe-embed">\n\t\t\t\t\t\t\t\t\t<div class="iframe-code-size-field embed-size-field">\n\t\t\t\t\t\t\t\t\t\t<span class="embed-code-label">\n\t\t\t\t\t\t\t\t\t\t'+o((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||r).call(i,null!=n?n.defaultIframeSizeStr:n,{name:"renderTrustedMarkup",hash:{},data:e}))+'\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input readonly type="text" class="iframe-code-text-field" value="'+o("function"==typeof(s=null!=(s=a.defaultIframeCode||(null!=n?n.defaultIframeCode:n))?s:r)?s.call(i,{name:"defaultIframeCode",hash:{},data:e}):s)+'">\n\t\t\t\t\t\t\t\t</div>\n'},56:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t\t<div class="link-type-content html-bb-embed">\n\t\t\t\t\t\t\t\t\t<input readonly type="text" class="bb-code-text-field" value="'+o("function"==typeof(s=null!=(s=a.defaultBBCode||(null!=n?n.defaultBBCode:n))?s:r)?s.call(i,{name:"defaultBBCode",hash:{},data:e}):s)+'">\n\t\t\t\t\t\t\t\t\t<div class="bb-code-size-field embed-size-field">\n\t\t\t\t\t\t\t\t\t\t<span class="embed-code-label">\n\t\t\t\t\t\t\t\t\t\t\t'+o((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||r).call(i,null!=n?n.defaultBBCodeSizeStr:n,{name:"renderTrustedMarkup",hash:{},data:e}))+'\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n'},58:function(t,n,a,l,e){var s;return'\t\t\t\t<div class="mail-perm-field">\n\t\t\t\t\t<span class="mail-permission-label">'+t.escapeExpression("function"==typeof(s=null!=(s=a.grabLinkDefaultPermission||(null!=n?n.grabLinkDefaultPermission:n))?s:a.helperMissing)?s.call(null!=n?n:{},{name:"grabLinkDefaultPermission",hash:{},data:e}):s)+'</span>\n\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t</div>\n'},60:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.nonPublicWarning:n,{name:"if",hash:{},fn:t.program(61,e,0),inverse:t.noop,data:e}))?s:""},61:function(t,n,a,l,e){return'\t\t\t\t\t\t<div class="tertiary non-public-warning">'+t.escapeExpression((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||a.helperMissing).call(null!=n?n:{},null!=n?n.nonPublicWarning:n,{name:"renderTrustedMarkup",hash:{},data:e}))+"</div>\n"},63:function(t,n,a,l,e){return"make-room-for-dropdown"},65:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.nonPublicWarning:n,{name:"if",hash:{},fn:t.program(66,e,0),inverse:t.noop,data:e}))?s:""},66:function(t,n,a,l,e){return"make-room-for-warning"},compiler:[7,">= 4.0.0"],main:function(t,n,a,l,e){var s,i,r=t.lambda,o=t.escapeExpression,u=null!=n?n:{},p=a.helperMissing;return'<div class="share-panel-body">\n\t<div class="share-panels">\n\n\t\t<div class="main-sharing-panel share-panel">\n\t\t\t<div class="network-buttons">\n\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.className:s,n))+"\n\n\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(1,e,0),inverse:t.program(3,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(5,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t<span class="share-link-label">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.FACEBOOK"},data:e}))+'</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.className:s,n))+"\n\n\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(1,e,0),inverse:t.program(3,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(7,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t<span class="share-link-label">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.TUMBLR"},data:e}))+'</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.className:s,n))+"\n\n\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(1,e,0),inverse:t.program(3,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(9,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t<span class="share-link-label">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.TWITTER"},data:e}))+'</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.className:s,n))+"\n\n\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(1,e,0),inverse:t.program(3,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(11,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t<span class="share-link-label">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.PINTEREST"},data:e}))+'</span>\n\t\t\t\t</span>\n\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.className:s,n))+"\n\n\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(1,e,0),inverse:t.program(3,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(13,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t<span class="share-link-label">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.MAIL"},data:e}))+'</span>\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div class="link-instructions '+(null!=(s=a.if.call(u,null!=n?n.moveInstructionsUp:n,{name:"if",hash:{},fn:t.program(15,e,0),inverse:t.noop,data:e}))?s:"")+'">\n\t\t\t\t'+o("function"==typeof(i=null!=(i=a.copyMessage||(null!=n?n.copyMessage:n))?i:p)?i.call(u,{name:"copyMessage",hash:{},data:e}):i)+'\n\t\t\t</div>\n\n\t\t\t<div class="share-link-types first-stop '+(null!=(s=a.if.call(u,null!=n?n.isEdge:n,{name:"if",hash:{},fn:t.program(17,e,0),inverse:t.noop,data:e}))?s:"")+'">\n\n\t\t\t\t\t<div class="link-type-buttons">\n\n\t\t\t\t\t\t<span class="link-type-button link-grab-type-button '+(null!=(s=a.if.call(u,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(19,e,0),inverse:t.noop,data:e}))?s:"")+'">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.GRAB_LINK"},data:e}))+"</span>\n\n"+(null!=(s=a.unless.call(u,null!=n?n.hideButtons:n,{name:"unless",hash:{},fn:t.program(21,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t<span class="link-type-highlight '+(null!=(s=a.if.call(u,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(32,e,0),inverse:t.noop,data:e}))?s:"")+'"></span>\n\n\t\t\t\t\t</div>\n\n\n\t\t\t\t<div class="link-type-contents">\n'+(null!=(s=a.if.call(u,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(34,e,0),inverse:t.program(46,e,0),data:e}))?s:"")+'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\n\t\t<div class="email-sharing-panel share-panel">\n\n\t\t\t<div class="message-form">\n\t\t\t\t<div class="fake-input">\n\t\t\t\t\t<input type="text" class="email-recipient-text-field" placeholder="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.SCREEN_NAME_OR_EMAIL"},data:e}))+'" data-field="recipient">\n\t\t\t\t</div>\n\n'+(null!=(s=a.if.call(u,null!=n?n.showMailPerms:n,{name:"if",hash:{},fn:t.program(58,e,0),inverse:t.program(60,e,0),data:e}))?s:"")+'\n\t\t\t\t<textarea class="email-message-text-field '+(null!=(s=a.if.call(u,null!=n?n.showMailPerms:n,{name:"if",hash:{},fn:t.program(63,e,0),inverse:t.program(65,e,0),data:e}))?s:"")+'" placeholder="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.INCLUDE_A_MESSAGE"},data:e}))+'"></textarea>\n\t\t\t</div>\n\n\t\t\t<button disabled class="share-by-email mini">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.FLICKR_SHARE"},data:e}))+'</button>\n\t\t\t<button class="leave-email-sharing mini alt">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||p).call(u,{name:"intlHTMLMessage",hash:{intlName:"common.BACK"},data:e}))+"</button>\n\n\t\t</div>\n\n\n\t</div>\n</div>"},useData:!0}),l={};t.Array.each([],function(n){var a=t.Template.get("hermes/"+n);a&&(l[n]=a)}),t.Template.register("hermes/fluid-share-panel",function(n,e){return e=e||{},e.partials=e.partials?t.merge(l,e.partials):l,a(n,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-panel-restyle",function(t,n){var a=t.Template.Handlebars.revive({1:function(t,n,a,l,e){return" ms-edge "},3:function(t,n,a,l,e){return" single-link"},5:function(t,n,a,l,e){var s,i=null!=n?n:{};return(null!=(s=a.if.call(i,null!=(s=null!=n?n.linkShareDisplay:n)?s.embedr:s,{name:"if",hash:{},fn:t.program(6,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(i,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canShare:s,{name:"if",hash:{},fn:t.program(8,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(i,null!=(s=null!=n?n.linkShareDisplay:n)?s.bbCode:s,{name:"if",hash:{},fn:t.program(10,e,0),inverse:t.noop,data:e}))?s:"")},6:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t<span class="link-type-button embed-type-button">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMBED_SIMPLE"},data:e}))+"</span>\n"},8:function(t,n,a,l,e){return'\t\t\t\t\t\t\t<span class="link-type-button email-type-button">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMAIL"},data:e}))+"</span>\n"},10:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t<span class="link-type-button bbcode-type-button">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"share-modal.BBCODE"},data:e}))+"</span>\n"},12:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canShare:s,{name:"if",hash:{},fn:t.program(13,e,0),inverse:t.noop,data:e}))?s:""},13:function(t,n,a,l,e){return'\t\t\t\t\t\t\t<span class="link-type-button email-type-button" tabindex="0" role="menuitem">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(null!=n?n:{},{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMAIL"},data:e}))+"</span>\n"},15:function(t,n,a,l,e){return" single-highlight"},17:function(t,n,a,l,e){var s,i,r=t.lambda,o=t.escapeExpression,u=null!=n?n:{},d=a.helperMissing;return'\t\t\t\t\t\t<div class="link-type-content grab-link-only grab-link">\n\t\t\t\t\t\t\t<div class="network-buttons">\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(22,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.className:s,n))+'-icon tabbable" tabindex="0" role="link" aria-label="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||d).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.FACEBOOK"},data:e}))+'"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(24,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.className:s,n))+'-icon tabbable" tabindex="0" role="link" aria-label="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||d).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.TUMBLR"},data:e}))+'"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(26,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.className:s,n))+'-icon tabbable" tabindex="0" role="link" aria-label="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||d).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.TWITTER"},data:e}))+'"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(28,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.className:s,n))+'-icon tabbable" tabindex="0" role="link" aria-label="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||d).call(u,{name:"intlHTMLMessage",hash:{intlName:"share-modal.PINTEREST"},data:e}))+'"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t<input readonly type="text" class="grab-link-text-field tabbable" value="'+o("function"==typeof(i=null!=(i=a.grabLink||(null!=n?n.grabLink:n))?i:d)?i.call(u,{name:"grabLink",hash:{},data:e}):i)+'">\n\n'+(null!=(s=a.if.call(u,null!=n?n.canHaveGuestpass:n,{name:"if",hash:{},fn:t.program(30,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t\t<div class="grab-link-loader '+(null!=(s=a.unless.call(u,null!=n?n.canHaveGuestpass:n,{name:"unless",hash:{},fn:t.program(33,e,0),inverse:t.noop,data:e}))?s:"")+" "+(null!=(s=a.unless.call(u,null!=n?n.choiceOfPermission:n,{name:"unless",hash:{},fn:t.program(35,e,0),inverse:t.noop,data:e}))?s:"")+'"><div class="balls"></div></div>\n\n\t\t\t\t\t\t\t<div class="grab-link-reminders">\n\t\t\t\t\t\t\t\t<div class="grab-link-privacy-reminder '+(null!=(s=a.unless.call(u,null!=n?n.canHaveGuestpass:n,{name:"unless",hash:{},fn:t.program(37,e,0),inverse:t.program(39,e,0),data:e}))?s:"")+'">'+o("function"==typeof(i=null!=(i=a.privacyWarningString||(null!=n?n.privacyWarningString:n))?i:d)?i.call(u,{name:"privacyWarningString",hash:{},data:e}):i)+"</div>\n\t\t\t\t\t\t\t\t"+(null!=(s=a.if.call(u,null!=n?n.showDownloadWarning:n,{name:"if",hash:{},fn:t.program(41,e,0),inverse:t.noop,data:e}))?s:"")+"\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\n"+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canShare:s,{name:"if",hash:{},fn:t.program(43,e,0),inverse:t.noop,data:e}))?s:"")},18:function(t,n,a,l,e){return" sharing-type-disabled"},20:function(t,n,a,l,e){return" sharing-type-enabled"},22:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canNotShareTitle:s,n))+'"'},24:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canNotShareTitle:s,n))+'"'},26:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canNotShareTitle:s,n))+'"'},28:function(t,n,a,l,e){var s;return' title="'+t.escapeExpression(t.lambda(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canNotShareTitle:s,n))+'"'},30:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.choiceOfPermission:n,{name:"if",hash:{},fn:t.program(31,e,0),inverse:t.noop,data:e}))?s:""},31:function(t,n,a,l,e){var s;return'\t\t\t\t\t\t\t\t<div class="grab-link-permission-field grab-link-field">\n\t\t\t\t\t\t\t\t\t<span class="grab-link-permission-label">'+t.escapeExpression("function"==typeof(s=null!=(s=a.grabLinkDefaultPermission||(null!=n?n.grabLinkDefaultPermission:n))?s:a.helperMissing)?s.call(null!=n?n:{},{name:"grabLinkDefaultPermission",hash:{},data:e}):s)+'</span>\n\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t</div>\n'},33:function(t,n,a,l,e){return" no-permission-loader"},35:function(t,n,a,l,e){return"no-permission-loader"},37:function(t,n,a,l,e){return" hide-reminder"},39:function(t,n,a,l,e){return" with-guestpasses "},41:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'<div class="grab-link-download-reminder">'+o("function"==typeof(s=null!=(s=a.downloadAccessString||(null!=n?n.downloadAccessString:n))?s:r)?s.call(i,{name:"downloadAccessString",hash:{},data:e}):s)+" "+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{url:"/account/prefs/downloads/",intlName:"share-modal.CHANGE_DOWNLOAD_PREF"},data:e}))+"</div>"},43:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t<div class="link-type-content email-sharing-panel">\n\t\t\t\t\t\t\t\t<div class="message-form">\n\t\t\t\t\t\t\t\t\t<div class="fake-input">\n\t\t\t\t\t\t\t\t\t\t<input type="text" class="email-recipient-text-field" placeholder="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.SCREEN_NAME_OR_EMAIL"},data:e}))+'" data-field="recipient">\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<textarea class="email-message-text-field '+(null!=(s=a.if.call(i,null!=n?n.showMailPerms:n,{name:"if",hash:{},fn:t.program(44,e,0),inverse:t.program(46,e,0),data:e}))?s:"")+'" placeholder="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.INCLUDE_A_MESSAGE"},data:e}))+'"></textarea>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="button-bar">\n'+(null!=(s=a.if.call(i,null!=n?n.showMailPerms:n,{name:"if",hash:{},fn:t.program(49,e,0),inverse:t.program(51,e,0),data:e}))?s:"")+'\t\t\t\t\t\t\t\t\t<button disabled class="share-by-email">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.FLICKR_SHARE"},data:e}))+"</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n"},44:function(t,n,a,l,e){return"make-room-for-dropdown"},46:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.nonPublicWarning:n,{name:"if",hash:{},fn:t.program(47,e,0),inverse:t.noop,data:e}))?s:""},47:function(t,n,a,l,e){return"make-room-for-warning"},49:function(t,n,a,l,e){var s;return'\t\t\t\t\t\t\t\t\t<div class="mail-perm-field">\n\t\t\t\t\t\t\t\t\t\t<span class="mail-permission-label">'+t.escapeExpression("function"==typeof(s=null!=(s=a.grabLinkDefaultPermission||(null!=n?n.grabLinkDefaultPermission:n))?s:a.helperMissing)?s.call(null!=n?n:{},{name:"grabLinkDefaultPermission",hash:{},data:e}):s)+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t\t</div>\n'},51:function(t,n,a,l,e){var s;return null!=(s=a.if.call(null!=n?n:{},null!=n?n.nonPublicWarning:n,{name:"if",hash:{},fn:t.program(52,e,0),inverse:t.noop,data:e}))?s:""},52:function(t,n,a,l,e){return'\t\t\t\t\t\t\t\t\t\t\t<div class="tertiary non-public-warning">'+t.escapeExpression((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||a.helperMissing).call(null!=n?n:{},null!=n?n.nonPublicWarning:n,{name:"renderTrustedMarkup",hash:{},data:e}))+"</div>\n"},54:function(t,n,a,l,e){var s,i,r=t.lambda,o=t.escapeExpression,u=null!=n?n:{},d=a.helperMissing;return'\n\t\t\t\t\t\t<div class="link-type-content grab-link">\n\n\t\t\t\t\t\t\t<div class="network-buttons">\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(22,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.facebook:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(24,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.tumblr:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(26,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.twitter:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="share-link '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.className:s,n))+"\n\n\t\t\t\t\t\t\t\t"+(null!=(s=a.unless.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canShare:s,{name:"unless",hash:{},fn:t.program(18,e,0),inverse:t.program(20,e,0),data:e}))?s:"")+'"\n\n\t\t\t\t\t\t\t\t'+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.canNotShareTitle:s,{name:"if",hash:{},fn:t.program(28,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\n\t\t\t\t\t\t\t\t\t<span class="share-link-icon '+o(r(null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.pinterest:s)?s.className:s,n))+'-icon"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input readonly type="text" class="grab-link-text-field" value="'+o("function"==typeof(i=null!=(i=a.grabLink||(null!=n?n.grabLink:n))?i:d)?i.call(u,{name:"grabLink",hash:{},data:e}):i)+'">\n\n'+(null!=(s=a.if.call(u,null!=n?n.canHaveGuestpass:n,{name:"if",hash:{},fn:t.program(30,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t\t<div class="grab-link-loader '+(null!=(s=a.unless.call(u,null!=n?n.choiceOfPermission:n,{name:"unless",hash:{},fn:t.program(35,e,0),inverse:t.noop,data:e}))?s:"")+'"><div class="balls"></div></div>\n\n\t\t\t\t\t\t\t<div class="grab-link-reminders">\n\t\t\t\t\t\t\t\t<div class="grab-link-privacy-reminder '+(null!=(s=a.unless.call(u,null!=n?n.canHaveGuestpass:n,{name:"unless",hash:{},fn:t.program(37,e,0),inverse:t.program(39,e,0),data:e}))?s:"")+'">'+o("function"==typeof(i=null!=(i=a.privacyWarningString||(null!=n?n.privacyWarningString:n))?i:d)?i.call(u,{name:"privacyWarningString",hash:{},data:e}):i)+"</div>\n\t\t\t\t\t\t\t\t"+(null!=(s=a.if.call(u,null!=n?n.showDownloadWarning:n,{name:"if",hash:{},fn:t.program(41,e,0),inverse:t.noop,data:e}))?s:"")+"\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\n"+(null!=(s=a.if.call(u,null!=(s=null!=n?n.linkShareDisplay:n)?s.embedr:s,{name:"if",hash:{},fn:t.program(55,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(u,null!=(s=null!=(s=null!=n?n.networkClasses:n)?s.flickr:s)?s.canShare:s,{name:"if",hash:{},fn:t.program(68,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(u,null!=(s=null!=n?n.linkShareDisplay:n)?s.bbCode:s,{name:"if",hash:{},fn:t.program(70,e,0),inverse:t.noop,data:e}))?s:"")+"\n"},55:function(t,n,a,l,e){var s,i,r=null!=n?n:{},o=a.helperMissing,u=t.escapeExpression;return'\t\t\t\t\t\t\t<div class="link-type-content html-embed">\n'+(null!=(s=a.if.call(r,null!=(s=null!=n?n.linkShareDisplay:n)?s.isNonPublic:s,{name:"if",hash:{},fn:t.program(56,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t\t\t<div class="embed-options-container '+(null!=(s=a.if.call(r,null!=(s=null!=n?n.linkShareDisplay:n)?s.isNonPublic:s,{name:"if",hash:{},fn:t.program(58,e,0),inverse:t.noop,data:e}))?s:"")+'">\n\t\t\t\t\t\t\t\t\t<input readonly type="text" class="embed-code-text-field" value="'+u("function"==typeof(i=null!=(i=a.defaultEmbedrCode||(null!=n?n.defaultEmbedrCode:n))?i:o)?i.call(r,{name:"defaultEmbedrCode",hash:{},data:e}):i)+'">\n\n\t\t\t\t\t\t\t\t\t<div class="embed-demo-container '+(null!=(s=(a.ifCond||n&&n.ifCond||o).call(r,null!=(s=null!=n?n.displayOptions:n)?s.header:s,"===","true",{name:"ifCond",hash:{},fn:t.program(60,e,0),inverse:t.noop,data:e}))?s:"")+" "+(null!=(s=(a.ifCond||n&&n.ifCond||o).call(r,null!=(s=null!=n?n.displayOptions:n)?s.footer:s,"===","true",{name:"ifCond",hash:{},fn:t.program(62,e,0),inverse:t.noop,data:e}))?s:"")+'">\n\t\t\t\t\t\t\t\t\t\t<div class="embed-demo">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class="embed-options">\n\t\t\t\t\t\t\t\t\t\t<div class="radio">\n\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" data-setting="header" id="embedr-option-header" name="radio" '+(null!=(s=(a.ifCond||n&&n.ifCond||o).call(r,null!=(s=null!=n?n.displayOptions:n)?s.header:s,"===","true",{name:"ifCond",hash:{},fn:t.program(64,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\t\t\t\t\t\t\t\t\t\t\t<label for="embedr-option-header">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="square"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>'+u((a.intlHTMLMessage||n&&n.intlHTMLMessage||o).call(r,{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMBEDR_OPTION_HEADER"},data:e}))+'</span>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class="radio">\n\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" data-setting="footer" id="embedr-option-footer" name="radio" '+(null!=(s=(a.ifCond||n&&n.ifCond||o).call(r,null!=(s=null!=n?n.displayOptions:n)?s.footer:s,"===","true",{name:"ifCond",hash:{},fn:t.program(64,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\t\t\t\t\t\t\t\t\t\t\t<label for="embedr-option-footer">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="square"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>'+u((a.intlHTMLMessage||n&&n.intlHTMLMessage||o).call(r,{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMBEDR_OPTION_FOOTER"},data:e}))+"</span>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n"+(null!=(s=a.unless.call(r,null!=n?n.showSlideshowOption:n,{name:"unless",hash:{},fn:t.program(66,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t\t\t\t\t<div class="embed-code-size-field embed-size-field">\n\t\t\t\t\t\t\t\t\t\t\t<span class="embed-code-label">\n\t\t\t\t\t\t\t\t\t\t\t'+u((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||o).call(r,null!=n?n.defaultSizeStr:n,{name:"renderTrustedMarkup",hash:{},data:e}))+'\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div> \x3c!-- embed options--\x3e\n\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t\t</div>\n'},56:function(t,n,a,l,e){var s=null!=n?n:{},i=a.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t\t\t\t\t<div class="embed-privacy-container">\n\t\t\t\t\t\t\t\t\t\t<p>'+r((a.intlMessage||n&&n.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"share-modal.EMBEDR_CHANGE_PRIVACY_WARNING"},data:e}))+'</p>\n\t\t\t\t\t\t\t\t\t\t<div class="privacy-tut-img"></div>\n\n\t\t\t\t\t\t\t\t\t\t<label for="embed-with-guestpass">'+r((a.intlMessage||n&&n.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"share-modal.EMBED_WITH_GUESTPASS"},data:e}))+' [<a class="server-only-link" target="_blank" href="/help/sharing/">?</a>]</label>\n\t\t\t\t\t\t\t\t\t\t<input class="embed-guestpass-checkbox" type="checkbox" name="embed-with-guestpass"></input>\n\t\t\t\t\t\t\t\t\t</div>\n'},58:function(t,n,a,l,e){return"hide"},60:function(t,n,a,l,e){return"show-header"},62:function(t,n,a,l,e){return"show-footer"},64:function(t,n,a,l,e){return'checked="true"'},66:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing;return'\t\t\t\t\t\t\t\t\t\t<div class="radio">\n\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" data-setting="context" id="embedr-option-context" name="radio" '+(null!=(s=(a.ifCond||n&&n.ifCond||r).call(i,null!=(s=null!=n?n.displayOptions:n)?s.context:s,"===","true",{name:"ifCond",hash:{},fn:t.program(64,e,0),inverse:t.noop,data:e}))?s:"")+'>\n\t\t\t\t\t\t\t\t\t\t\t<label for="embedr-option-context">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="square"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.EMBEDR_OPTION_SLIDESHOW"},data:e}))+"</span>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n"},68:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t<div class="link-type-content email-sharing-panel">\n\t\t\t\t\t\t\t\t<div class="message-form">\n\t\t\t\t\t\t\t\t\t<div class="fake-input">\n\t\t\t\t\t\t\t\t\t\t<input type="text" class="email-recipient-text-field" placeholder="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.SCREEN_NAME_OR_EMAIL"},data:e}))+'" data-field="recipient">\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<textarea class="email-message-text-field '+(null!=(s=a.if.call(i,null!=n?n.showMailPerms:n,{name:"if",hash:{},fn:t.program(44,e,0),inverse:t.program(46,e,0),data:e}))?s:"")+'" placeholder="'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.INCLUDE_A_MESSAGE"},data:e}))+'"></textarea>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="button-bar">\n'+(null!=(s=a.if.call(i,null!=n?n.showMailPerms:n,{name:"if",hash:{},fn:t.program(49,e,0),inverse:t.program(51,e,0),data:e}))?s:"")+'\n\t\t\t\t\t\t\t\t\t<button disabled class="share-by-email">'+o((a.intlHTMLMessage||n&&n.intlHTMLMessage||r).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.FLICKR_SHARE"},data:e}))+"</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n"},70:function(t,n,a,l,e){var s,i=null!=n?n:{},r=a.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t<div class="link-type-content html-bb-embed">\n\t\t\t\t\t\t\t\t<input readonly type="text" class="bb-code-text-field" value="'+o("function"==typeof(s=null!=(s=a.defaultBBCode||(null!=n?n.defaultBBCode:n))?s:r)?s.call(i,{name:"defaultBBCode",hash:{},data:e}):s)+'">\n\t\t\t\t\t\t\t\t<div class="bb-code-size-field embed-size-field">\n\t\t\t\t\t\t\t\t\t<span class="embed-code-label">\n\t\t\t\t\t\t\t\t\t\t'+o((a.renderTrustedMarkup||n&&n.renderTrustedMarkup||r).call(i,null!=n?n.defaultBBCodeSizeStr:n,{name:"renderTrustedMarkup",hash:{},data:e}))+'\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class="dropdown-arrow"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n'},compiler:[7,">= 4.0.0"],main:function(t,n,a,l,e){var s,i=null!=n?n:{};return'<div class="share-panel-body">\n\t<div class="share-panels">\n\n\t\t<div class="main-sharing-panel share-panel">\n\n\t\t\t<div class="share-link-types first-stop '+(null!=(s=a.if.call(i,null!=n?n.isEdge:n,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.noop,data:e}))?s:"")+'">\n\n\t\t\t\t\t<div class="link-type-buttons" role="navigation">\n\n\t\t\t\t\t\t<span class="link-type-button link-grab-type-button '+(null!=(s=a.if.call(i,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(3,e,0),inverse:t.noop,data:e}))?s:"")+'" tabindex="0" role="menuitem">'+t.escapeExpression((a.intlHTMLMessage||n&&n.intlHTMLMessage||a.helperMissing).call(i,{name:"intlHTMLMessage",hash:{intlName:"share-modal.SHARE"},data:e}))+"</span>\n\n"+(null!=(s=a.unless.call(i,null!=n?n.hideButtons:n,{name:"unless",hash:{},fn:t.program(5,e,0),inverse:t.noop,data:e}))?s:"")+"\n"+(null!=(s=a.if.call(i,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(12,e,0),inverse:t.noop,data:e}))?s:"")+'\n\t\t\t\t\t\t<span class="link-type-highlight '+(null!=(s=a.if.call(i,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(15,e,0),inverse:t.noop,data:e}))?s:"")+'"></span>\n\n\t\t\t\t\t</div>\n\n\n\t\t\t\t<div class="link-type-contents">\n'+(null!=(s=a.if.call(i,null!=n?n.hideButtons:n,{name:"if",hash:{},fn:t.program(17,e,0),inverse:t.program(54,e,0),data:e}))?s:"")+"\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n</div>\n"},useData:!0}),l={};t.Array.each([],function(n){var a=t.Template.get("hermes/"+n);a&&(l[n]=a)}),t.Template.register("hermes/fluid-share-panel-restyle",function(n,e){return e=e||{},e.partials=e.partials?t.merge(l,e.partials):l,a(n,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-droparound",function(n,e){var t=n.Template.Handlebars.revive({1:function(n,e,t,a,l){return" html"},3:function(n,e,t,a,l){return" subview-droparound"},5:function(n,e,t,a,l){return" menu"},7:function(n,e,t,a,l){return" auto-size"},9:function(n,e,t,a,l){var i,s=null!=e?e:{},r=t.helperMissing,o=n.escapeExpression;return"max-height: "+o("function"==typeof(i=null!=(i=t.staticHeight||(null!=e?e.staticHeight:e))?i:r)?i.call(s,{name:"staticHeight",hash:{},data:l}):i)+"px; min-height: "+o("function"==typeof(i=null!=(i=t.staticHeight||(null!=e?e.staticHeight:e))?i:r)?i.call(s,{name:"staticHeight",hash:{},data:l}):i)+"px; "},11:function(n,e,t,a,l){var i;return"width: "+n.escapeExpression("function"==typeof(i=null!=(i=t.staticWidth||(null!=e?e.staticWidth:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"staticWidth",hash:{},data:l}):i)+"px;"},13:function(n,e,t,a,l){return"position: fixed;"},15:function(n,e,t,a,l){return"hide-head"},17:function(n,e,t,a,l){var i,s,r=null!=e?e:{},o=t.helperMissing;return'\t\t\t<div class="content text-only'+(null!=(i=t.if.call(r,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0),inverse:n.noop,data:l}))?i:"")+'" style="'+(null!=(i=(t.ifDefined||e&&e.ifDefined||o).call(r,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0),inverse:n.noop,data:l}))?i:"")+'">\n\t\t\t\t'+n.escapeExpression("function"==typeof(s=null!=(s=t.textMessage||(null!=e?e.textMessage:e))?s:o)?s.call(r,{name:"textMessage",hash:{},data:l}):s)+"\n\t\t\t</div>\n"},18:function(n,e,t,a,l){var i;return"padding: "+n.escapeExpression("function"==typeof(i=null!=(i=t.contentPadding||(null!=e?e.contentPadding:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"contentPadding",hash:{},data:l}):i)+"px;"},20:function(n,e,t,a,l){var i,s=null!=e?e:{},r=t.helperMissing;return'\t\t\t<div class="content html-only'+(null!=(i=t.if.call(s,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0),inverse:n.noop,data:l}))?i:"")+'" style="'+(null!=(i=(t.ifDefined||e&&e.ifDefined||r).call(s,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0),inverse:n.noop,data:l}))?i:"")+'">\n\t\t\t\t'+n.escapeExpression((t.renderTrustedMarkup||e&&e.renderTrustedMarkup||r).call(s,null!=e?e.htmlMessage:e,{name:"renderTrustedMarkup",hash:{},data:l}))+"\n\t\t\t</div>\n"},22:function(n,e,t,a,l){var i,s=null!=e?e:{};return'\t\t\t<div class="content subview'+(null!=(i=t.if.call(s,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0),inverse:n.noop,data:l}))?i:"")+'" style="'+(null!=(i=(t.ifDefined||e&&e.ifDefined||t.helperMissing).call(s,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0),inverse:n.noop,data:l}))?i:"")+'"></div>\n'},24:function(n,e,t,a,l,i,s){var r,o=null!=e?e:{};return'\t\t\t<div class="content menu" style="'+(null!=(r=(t.ifDefined||e&&e.ifDefined||t.helperMissing).call(o,null!=e?e.contentPadding:e,{name:"ifDefined",hash:{},fn:n.program(18,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t\t\t\t<ul role="menu">\n'+(null!=(r=t.each.call(o,null!=e?e.menuItems:e,{name:"each",hash:{},fn:n.program(25,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n"},25:function(n,e,t,a,l,i,s){var r;return null!=(r=t.if.call(null!=e?e:{},null!=s[1]?s[1].multiSelect:s[1],{name:"if",hash:{},fn:n.program(26,l,0,i,s),inverse:n.program(31,l,0,i,s),data:l}))?r:""},26:function(n,e,t,a,l){var i,s,r=null!=e?e:{};return'\t\t\t\t\t\t\t<li role="menuitem" '+(null!=(i=t.if.call(r,null!=e?e.selected:e,{name:"if",hash:{},fn:n.program(27,l,0),inverse:n.noop,data:l}))?i:"")+'>\n\t\t\t\t\t\t\t\t<span class="selection"></span>\n\t\t\t\t\t\t\t\t'+n.escapeExpression("function"==typeof(s=null!=(s=t.text||(null!=e?e.text:e))?s:t.helperMissing)?s.call(r,{name:"text",hash:{},data:l}):s)+(null!=(i=t.if.call(r,null!=e?e.itemFlag:e,{name:"if",hash:{},fn:n.program(29,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t</li>\n"},27:function(n,e,t,a,l){return'class="selected"'},29:function(n,e,t,a,l){var i,s=null!=e?e:{},r=t.helperMissing,o=n.escapeExpression;return" - "+o("function"==typeof(i=null!=(i=t.itemFlag||(null!=e?e.itemFlag:e))?i:r)?i.call(s,{name:"itemFlag",hash:{},data:l}):i)+'<div class="label-new">'+o("function"==typeof(i=null!=(i=t.itemFlag||(null!=e?e.itemFlag:e))?i:r)?i.call(s,{name:"itemFlag",hash:{},data:l}):i)+"</div>"},31:function(n,e,t,a,l){var i,s,r=null!=e?e:{};return'\t\t\t\t\t\t\t<li role="menuitem" '+(null!=(i=t.if.call(r,null!=e?e.isSelected:e,{name:"if",hash:{},fn:n.program(32,l,0),inverse:n.noop,data:l}))?i:"")+" "+(null!=(i=t.if.call(r,null!=e?e.href:e,{name:"if",hash:{},fn:n.noop,inverse:n.program(34,l,0),data:l}))?i:"")+">\n\t\t\t\t\t\t\t\t"+(null!=(i=t.if.call(r,null!=e?e.href:e,{name:"if",hash:{},fn:n.program(36,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t\t\t"+n.escapeExpression("function"==typeof(s=null!=(s=t.text||(null!=e?e.text:e))?s:t.helperMissing)?s.call(r,{name:"text",hash:{},data:l}):s)+(null!=(i=t.if.call(r,null!=e?e.itemFlag:e,{name:"if",hash:{},fn:n.program(39,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t\t"+(null!=(i=t.if.call(r,null!=e?e.href:e,{name:"if",hash:{},fn:n.program(41,l,0),inverse:n.noop,data:l}))?i:"")+"\n\t\t\t\t\t\t\t</li>\n"},32:function(n,e,t,a,l){return'class="selected-item"'},34:function(n,e,t,a,l){return'tabindex="0"'},36:function(n,e,t,a,l){var i,s,r=null!=e?e:{};return'<a href="'+n.escapeExpression("function"==typeof(s=null!=(s=t.href||(null!=e?e.href:e))?s:t.helperMissing)?s.call(r,{name:"href",hash:{},data:l}):s)+'"'+(null!=(i=t.if.call(r,null!=e?e.className:e,{name:"if",hash:{},fn:n.program(37,l,0),inverse:n.noop,data:l}))?i:"")+">"},37:function(n,e,t,a,l){var i;return' class="'+n.escapeExpression("function"==typeof(i=null!=(i=t.className||(null!=e?e.className:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"className",hash:{},data:l}):i)+'"'},39:function(n,e,t,a,l){var i;return'<div class="label-new">'+n.escapeExpression("function"==typeof(i=null!=(i=t.itemFlag||(null!=e?e.itemFlag:e))?i:t.helperMissing)?i.call(null!=e?e:{},{name:"itemFlag",hash:{},data:l}):i)+"</div>"},41:function(n,e,t,a,l){return"</a>"},43:function(n,e,t,a,l){return"hide-foot"},45:function(n,e,t,a,l){return'\t\t<div class="droparrow up"></div>\n'},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,l,i,s){var r,o,u=null!=e?e:{},f=t.helperMissing,c=n.escapeExpression;return'<div class="droparound'+(null!=(r=t.if.call(u,null!=e?e.htmlMessage:e,{name:"if",hash:{},fn:n.program(1,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.subview:e,{name:"if",hash:{},fn:n.program(3,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.menuItems:e,{name:"if",hash:{},fn:n.program(5,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.autoSizeToContent:e,{name:"if",hash:{},fn:n.program(7,l,0,i,s),inverse:n.noop,data:l}))?r:"")+" "+c("function"==typeof(o=null!=(o=t.classList||(null!=e?e.classList:e))?o:f)?o.call(u,{name:"classList",hash:{},data:l}):o)+'"\nstyle="'+(null!=(r=t.if.call(u,null!=e?e.staticHeight:e,{name:"if",hash:{},fn:n.program(9,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"\n"+(null!=(r=t.if.call(u,null!=e?e.staticWidth:e,{name:"if",hash:{},fn:n.program(11,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"\n"+(null!=(r=t.if.call(u,null!=e?e.positionFixed:e,{name:"if",hash:{},fn:n.program(13,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t<div class="head '+(null!=(r=t.unless.call(u,null!=e?e.headContent:e,{name:"unless",hash:{},fn:n.program(15,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t\t'+c("function"==typeof(o=null!=(o=t.headContent||(null!=e?e.headContent:e))?o:f)?o.call(u,{name:"headContent",hash:{},data:l}):o)+'\n\t</div>\n\t<div class="body">\n'+(null!=(r=t.if.call(u,null!=e?e.textMessage:e,{name:"if",hash:{},fn:n.program(17,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.htmlMessage:e,{name:"if",hash:{},fn:n.program(20,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.subview:e,{name:"if",hash:{},fn:n.program(22,l,0,i,s),inverse:n.noop,data:l}))?r:"")+(null!=(r=t.if.call(u,null!=e?e.menuItems:e,{name:"if",hash:{},fn:n.program(24,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'\t</div>\n\t<div class="foot '+(null!=(r=t.unless.call(u,null!=e?e.footContent:e,{name:"unless",hash:{},fn:n.program(43,l,0,i,s),inverse:n.noop,data:l}))?r:"")+'">\n\t\t'+c("function"==typeof(o=null!=(o=t.footContent||(null!=e?e.footContent:e))?o:f)?o.call(u,{name:"footContent",hash:{},data:l}):o)+"\n\t</div>\n"+(null!=(r=t.if.call(u,null!=e?e.showDropArrow:e,{name:"if",hash:{},fn:n.program(45,l,0,i,s),inverse:n.noop,data:l}))?r:"")+"</div>\n"},useData:!0,useDepths:!0}),a={};n.Array.each([],function(e){var t=n.Template.get("hermes/"+e);t&&(a[e]=t)}),n.Template.register("hermes/fluid-droparound",function(e,l){return l=l||{},l.partials=l.partials?n.merge(a,l.partials):a,t(e,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-droparound-view",function(e,t){"use strict";var r,i,n,o=require("hermes-core/flog")(t);r={css:{destinationContainer:"body",subviewContent:".content.subview",menuContent:".content.menu",droparoundContainer:".droparound",droparoundContent:".body .content",droparrow:".droparrow"},options:{}},i={supportsTransform:!1,droparound:{height:0,width:0}},n=function(e,t,r){var i,n,o,a,s,l=e.x,u=e.y,c=e.width,d=e.height,h=e.viewportX,g=t.width,v=t.height,f=r.height,p=r.width,b=r.preferredHorizontalOrientation,m=r.preferredVerticalOrientation,A=u<v/2,w=l<g/2;return"down"===m&&(A=!0),"up"===m&&(A=!1),"right"===b&&(w=!0),"left"===b&&(w=!1),r.ignoreBoundary||(f>h&&(A=!0),u+d+f<h&&(A=!1)),A?(a=u+d,s=u+d+f,i={vertical:"down"},w?(n=l,o=l+p,i.horizontal="right"):(n=l-p+c,o=l-c,i.horizontal="left")):(a=u-f,s=u,i={vertical:"up"},w?(n=l,o=l+p,i.horizontal="right"):(n=l-p+c,o=l-c,i.horizontal="left")),{coords:[n,o,a,s],orientation:i}},e.namespace("Views").FluidDroparound=e.FlickrView.create(this.name,e.FlickrView,[],{initializer:function(e){this.set("isActiveViewAgnostic",!0)},buildContainer:function(){return this.get("textMessage")||this.get("htmlMessage")||this.get("subview")||this.get("menuItems")?(this.get("menuItems")&&this.set("menuItems",this.get("menuItems").filter(function(e){return!e.hidden})),this.setContainerWithTemplate("fluid-droparound",{textMessage:this.get("textMessage"),htmlMessage:this.get("message")?this.get("message"):this.get("htmlMessage"),subview:!!this.get("subview"),menuItems:this.get("menuItems"),multiSelect:this.get("multiSelect"),showDropArrow:this.get("showDropArrow"),hideModalOverlay:this.get("hideModalOverlay"),classList:this.get("classList"),footContent:this.get("footContent"),headContent:this.get("headContent"),staticWidth:this.get("width"),staticHeight:this.get("height"),positionFixed:this.get("positionFixed"),autoSizeToContent:this.get("autoSizeToContent"),contentPadding:this.get("contentPadding")}),this.appendAndPosition(),this):(o.warn("requires a `textMessage`, `htmlMessage`, `subview`, or `menuItems`."),this)},activate:function(){var t=this.get("container"),i=this;e.OverlayManager.DroparoundOverlay.add(this),e.OverlayManager.DroparoundOverlay.setOverlayStyle({overlayClassList:this.get("overlayClassList"),hideModalOverlay:this.get("hideModalOverlay"),invisibleOverlay:this.get("invisibleOverlay")}),this.registerEventHandler(e.on("droparound:reposition",e.bind(this.anchorPositionChange,this))),this.registerEventHandler(e.on("history:change",function(e){"popstate"===e.src&&e.prevVal&&e.newVal&&(e.prevVal.flickr&&e.prevVal.flickr.referrer||e.newVal.flickr&&e.newVal.flickr.referrer)||i.close(e)})),this.get("useDefaultKeyboardNavigation")&&e.use("keyboard-manager",function(e){i.registerEventHandler(t.on("keydown",i.keyboardNavigation,i))});var n=this.get("anchorElement"),o=this.get("keyboardAnchorElement");return o||(o=n.hasAttribute("aria-haspopup")?n:n.ancestor("[aria-haspopup=true]")),o&&(this.set("keyboardAnchorElement",o),this.get("keyboardAnchorElement").setAttribute("aria-expanded","true"),this.registerEventHandler(o.on("key",this.enterDroparound,"down:40",this))),this.get("subview")&&this.loadSubview(),this.get("menuItems")&&this.registerEventHandler(t.one(r.css.menuContent).delegate(["click","keydown"],function(e){"click"!==e.type&&13!==e.keyCode||this.onMenuItemClick(e)}.bind(this),"li")),this.get("observePageResize")&&this.observePageResize(),this.get("closeOnScroll")&&this.observePageScroll(),this.get("preventPageScrollOnScroll")&&this.registerEventHandler(t.on("mousewheel",this.preventPageScroll.bind(this))),this.fire("activated"),this},enterDroparound:function(e){var t=this.get("container").one("ul li");t&&(e.preventDefault(),t.focus())},keyboardNavigation:function(e){var t=e.keyCode,r=38===t||9===t&&e.shiftKey,i=40===t||9===t&&!e.shiftKey,n=e.target.ancestor("li",!0);if(!this.appContext.getKeyboardManager().inputHasFocus())if(r&&n&&n.previous("li"))e.preventDefault(),this.focusOnPreviousItem(e);else if(i)e.preventDefault(),n&&n.next("li")&&this.focusOnNextItem(e);else if(27===t||r){e.preventDefault();var o=this.get("keyboardAnchorElement");o&&(this.close(),o.focus(),o.removeClass("no-outline"))}},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var r=t.previous("li");r&&(r.one("a")?r.one("a").focus():r.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var r=t.next("li");r&&(r.one("a")?r.one("a").focus():r.focus())}},getDroparoundContainer:function(){return this.get("container")?this.get("container").one(r.css.droparoundContainer):null},loadSubview:function(){var t,i=!1,n=this.get("subview"),o=this;this.get("container").one(r.css.subviewContent).appendChild(e.Node.create(this.templates("flickr-balls")({})).addClass("flickr-balls")),t=setTimeout(function(){i=!0},40),this.loading=!0,n.appContext=o.appContext,n.set("isActiveViewAgnostic",!0),n.initialize().then(function(e){clearTimeout(t),i&&(e.get("container").addClass("load-transition"),setTimeout(function(){e.get("container").removeClass("load-transition")},1)),o.onSubviewInitialized(e)})},onSubviewInitialized:function(t){var i=this,n=this.get("container").one(r.css.subviewContent);this.loading&&(this.loading=!1,n.one(".flickr-balls").remove(!0),n.appendChild(t.get("container")),t.on("subviewViewEvent",function(e){e&&e.details&&e.details.length&&i.fire.apply(i,e.details)}),t.normalizedActivate(),t.recursivelyActivateSubviews(),i.appendAndPosition(),i.registerEventHandler(i.get("subview").on("actionClick",e.bind(i.handleAction,i))))},onMenuItemClick:function(e){var t,i,n;(t=e.target.ancestor("li",!0))&&-1!==(i=this.get("container").one(r.css.menuContent).all("li").indexOf(t))&&(n=this.get("menuItems")[i],this.get("multiSelect")&&(n.selected=!n.selected,t.toggleClass("selected")),this.fire("selected",{menuItemIndex:i,menuItem:n,origEvent:e}))},appendAndPosition:function(t){var n=e.one(r.css.destinationContainer),o=this.get("container").one(r.css.droparoundContainer);n&&(n.append(this.get("container")),i.droparound.width=this.get("width")||o.getComputedStyle("width"),i.droparound.height=this.get("height")||o.getComputedStyle("height"),this.repositionToElement(t||this.get("anchorElement")))},updateTextMessage:function(e){e&&""!==e&&(this.set("textMessage",e),this.buildContainer())},updateHTMLMessage:function(e){e&&""!==e&&(this.set("htmlMessage",e),this.buildContainer())},anchorPositionChange:function(){this.repositionToElement(this.get("anchorElement"))},observePageResize:function(){var t=this;this.registerEventHandler(e.globalEvents.subscribe("window:resize",function(r){e.fire("droparound:reposition"),t.get("closeOnResize")&&t.handleClose(r)}))},observePageScroll:function(){var t=YUI.Env.isServer?0:e.config.win.pageYOffset;this.get("startingScrollPoint")||this.set("startingScrollPoint",t),this.registerEventHandler(e.globalEvents.subscribe("window:scroll",this.handleScroll.bind(this)))},handleScroll:function(t){var r,i=this.get("startingScrollPoint");i?(r=e.config.win.pageYOffset,(i+this.get("closeOnScrollDistance")<r||i-this.get("closeOnScrollDistance")>r)&&this.handleClose(t)):this.set("startingScrollPoint",e.config.win.pageYOffset)},repositionToElement:function(e,t){var i,o=this.get("container"),a=this.get("positionFixed"),s=o.one(".droparound"),l=this.get("showDropArrow")?s.one(r.css.droparrow):void 0,u=s.one(r.css.droparoundContent),c=u.get("offsetWidth"),d=u.get("offsetHeight"),h=l?l.get("offsetHeight"):0,g=e.getXY(),v=g[0],f=g[1],p=e.getDOMNode().getBoundingClientRect(),b={width:s.get("offsetWidth"),height:s.get("offsetHeight")};b.ignoreBoundary=!!t,this.get("preferLeft")&&(b.preferredHorizontalOrientation="left"),this.get("preferRight")&&(b.preferredHorizontalOrientation="right"),this.get("preferTop")&&(b.preferredVerticalOrientation="up"),this.get("preferBottom")&&(b.preferredVerticalOrientation="down"),(!this.anchorCoords||0!==this.x&&0!==this.y)&&(this.anchorCoords={x:a?p.left:v,y:a?p.top:f,width:e.get("offsetWidth"),height:e.get("offsetHeight"),viewportX:e.getDOMNode().getBoundingClientRect().top||0});var m=n(this.anchorCoords,{width:this.appContext.viewportData.getWidth(),height:this.appContext.viewportData.getHeight()},b);"down"===m.orientation.vertical?m.coords[2]+=h-this.get("anchorOffsetVertical"):m.coords[2]-=h+this.get("anchorOffsetVertical"),"right"===m.orientation.horizontal?m.coords[0]-=this.get("anchorOffsetHorizontal"):m.coords[0]+=this.get("anchorOffsetHorizontal"),s.setStyles({left:m.coords[0],top:m.coords[2]}),l&&(l.removeClass("down").removeClass("up").removeClass("left").removeClass("right").addClass(m.orientation.vertical),"left"===m.orientation.horizontal?l.setStyles({right:10+this.get("mirrorArrowAdjustment"),left:"auto"}):l.setStyles({left:10+this.get("mirrorArrowAdjustment")})),this.get("menuItems")||this.get("autoSizeToContent")||(i={width:c+"px",height:d+"px"},u.setStyles(i))},handleClose:function(e){this.close()},handleAction:function(e){this.fire("actionClick",e),this.get("dismissOnActionClick")&&this.close(e)},show:function(){var e=!this.isActivated,t=this;return this.initialize().then(function(){t.isClosed=!1,e||t.activate()}),this},close:function(){var t=this.get("container");this.loading=!1,this.isClosed=!0;var r=this.get("keyboardAnchorElement");r&&(r.setAttribute("aria-expanded","false"),r.focus(),r.addClass("no-outline")),this.fire("closeDroparound"),this.destroy(),this.get("subview")&&this.get("subview").destroy(),t&&t.remove(!0),e.OverlayManager.DroparoundOverlay.remove(this)},destructor:function(){this.detachAll()},freeze:function(){e.one("body").setStyles({overflow:"hidden"})},unfreeze:function(){e.one("body").setStyles({overflow:"visible"})},preventPageScroll:function(e){var t,r,i=this.get("container"),n=e.target,o=!1;if(i.contains(n)){for(;n!==i&&!o;)"hidden"===n.getStyle("overflow")||"visible"===n.getStyle("overflow")||n.get("offsetHeight")>=n.get("scrollHeight")?n=n.get("parentNode"):o=!0;o&&(t=e.wheelDelta<0,((r=n.getDOMNode()).scrollTop<=0&&!t||r.scrollTop+r.offsetHeight>=r.scrollHeight&&t)&&e.preventDefault())}}},{ATTRS:{dismissOnOverlayClick:{value:!0,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},dismissOnActionClick:{value:!0,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},hideModalOverlay:{value:!0,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},invisibleOverlay:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},preferredSide:{value:null},message:{value:null},textMessage:{value:null},htmlMessage:{value:null},footContent:{value:null},headContent:{value:null},width:{value:0,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},height:{value:0,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},subview:{value:null},menuItems:{value:null},classList:{value:"",validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t,r){return e.AttributeHelpers.coerceString(t)}},anchorElement:{value:null},keyboardAnchorElement:{value:null},useDefaultKeyboardNavigation:{value:!0},showDropArrow:{value:!0,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},anchorOffsetVertical:{value:0,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},anchorOffsetHorizontal:{value:5,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},contentPadding:{value:void 0,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},minVerticalSpace:{value:60,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},minHorizontalSpace:{value:60,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowWidth:{value:21,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},dropdownArrowHeight:{value:11},anchorPositionOffset:{value:15,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},observePageResize:{value:!0,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},preferLeft:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},preferRight:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},preferTop:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},preferBottom:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},mirrorArrowAdjustment:{value:0,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},positionFixed:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScroll:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},closeOnScrollDistance:{value:40,validator:function(t,r){return e.AttributeHelpers.validateInteger(t)},setter:function(t,r){return e.AttributeHelpers.coerceInteger(t)}},closeOnResize:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},overlayClassList:{value:"",validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t,r){return e.AttributeHelpers.coerceString(t)}},forceLeft:{value:null},forceRight:{value:null},autoSizeToContent:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},horizCenterToAnchor:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},multiSelect:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}},preventPageScrollOnScroll:{value:!1,validator:function(t,r){return e.AttributeHelpers.validateBoolean(t)},setter:function(t,r){return e.AttributeHelpers.coerceBoolean(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-fluid-droparound","hermes-template-flickr-balls","fluid-overlay-manager-view","attribute-helpers"],optionalRequires:["fluid"]});YUI.add("hermes-template-fluid-share-embedr-code",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,l,t){var r,i=null!=a?a:{},s=n.helperMissing;return(null!=(r=(n.ifCond||a&&a.ifCond||s).call(i,null!=(r=null!=a?a.displayOptions:a)?r.header:r,"===","true",{name:"ifCond",hash:{},fn:e.program(2,t,0),inverse:e.noop,data:t}))?r:"")+(null!=(r=(n.ifCond||a&&a.ifCond||s).call(i,null!=(r=null!=a?a.displayOptions:a)?r.footer:r,"===","true",{name:"ifCond",hash:{},fn:e.program(4,t,0),inverse:e.noop,data:t}))?r:"")+(null!=(r=n.unless.call(i,null!=a?a.showSlideshowOption:a,{name:"unless",hash:{},fn:e.program(6,t,0),inverse:e.noop,data:t}))?r:"")},2:function(e,a,n,l,t){return'data-header="true" '},4:function(e,a,n,l,t){return'data-footer="true" '},6:function(e,a,n,l,t){var r;return null!=(r=(n.ifCond||a&&a.ifCond||n.helperMissing).call(null!=a?a:{},null!=(r=null!=a?a.displayOptions:a)?r.context:r,"===","true",{name:"ifCond",hash:{},fn:e.program(7,t,0),inverse:e.noop,data:t}))?r:""},7:function(e,a,n,l,t){return'data-context="true" '},9:function(e,a,n,l,t){return'data-vr="true" '},compiler:[7,">= 4.0.0"],main:function(e,a,n,l,t){var r,i,s=null!=a?a:{},o=n.helperMissing,u="function",d=e.escapeExpression;return'<a data-flickr-embed="true" '+(null!=(r=(n.isFlipped||a&&a.isFlipped||o).call(s,"enable-share-restyle",{name:"isFlipped",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t}))?r:"")+(null!=(r=(n.ifCond||a&&a.ifCond||o).call(s,null!=(r=null!=a?a.displayOptions:a)?r.vr:r,"===","true",{name:"ifCond",hash:{},fn:e.program(9,t,0),inverse:e.noop,data:t}))?r:"")+' href="'+d(typeof(i=null!=(i=n.embedLink||(null!=a?a.embedLink:a))?i:o)===u?i.call(s,{name:"embedLink",hash:{},data:t}):i)+'" title="'+d(typeof(i=null!=(i=n.title||(null!=a?a.title:a))?i:o)===u?i.call(s,{name:"title",hash:{},data:t}):i)+'"><img src="'+d(typeof(i=null!=(i=n.farmURL||(null!=a?a.farmURL:a))?i:o)===u?i.call(s,{name:"farmURL",hash:{},data:t}):i)+'" width="'+d(typeof(i=null!=(i=n.width||(null!=a?a.width:a))?i:o)===u?i.call(s,{name:"width",hash:{},data:t}):i)+'" height="'+d(typeof(i=null!=(i=n.height||(null!=a?a.height:a))?i:o)===u?i.call(s,{name:"height",hash:{},data:t}):i)+'" alt="'+d(typeof(i=null!=(i=n.alt||(null!=a?a.alt:a))?i:o)===u?i.call(s,{name:"alt",hash:{},data:t}):i)+'"></a><script async src="//embedr.flickr.com/assets/client-code.js" charset="utf-8"><\/script>'},useData:!0}),l={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(l[a]=n)}),e.Template.register("hermes/fluid-share-embedr-code",function(a,t){return t=t||{},t.partials=t.partials?e.merge(l,t.partials):l,n(a,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-bb-code",function(a,e){var l=a.Template.Handlebars.revive({1:function(a,e,l,n,r){var t,s,u=null!=e?e:{};return"by [url="+(null!=(t=l.if.call(u,null!=e?e.authorURL:e,{name:"if",hash:{},fn:a.program(2,r,0),inverse:a.program(4,r,0),data:r}))?t:"")+"]"+a.escapeExpression("function"==typeof(s=null!=(s=l.authorName||(null!=e?e.authorName:e))?s:l.helperMissing)?s.call(u,{name:"authorName",hash:{},data:r}):s)+"[/url]"},2:function(a,e,l,n,r){var t;return a.escapeExpression("function"==typeof(t=null!=(t=l.authorURL||(null!=e?e.authorURL:e))?t:l.helperMissing)?t.call(null!=e?e:{},{name:"authorURL",hash:{},data:r}):t)},4:function(a,e,l,n,r){return"shortURL"},compiler:[7,">= 4.0.0"],main:function(a,e,l,n,r){var t,s,u=null!=e?e:{},i=l.helperMissing,o=a.escapeExpression;return"[url="+o("function"==typeof(s=null!=(s=l.shortURL||(null!=e?e.shortURL:e))?s:i)?s.call(u,{name:"shortURL",hash:{},data:r}):s)+"][img]"+o("function"==typeof(s=null!=(s=l.farmURL||(null!=e?e.farmURL:e))?s:i)?s.call(u,{name:"farmURL",hash:{},data:r}):s)+"[/img][/url][url="+o("function"==typeof(s=null!=(s=l.shortURL||(null!=e?e.shortURL:e))?s:i)?s.call(u,{name:"shortURL",hash:{},data:r}):s)+"]"+o("function"==typeof(s=null!=(s=l.title||(null!=e?e.title:e))?s:i)?s.call(u,{name:"title",hash:{},data:r}):s)+"[/url] "+(null!=(t=l.if.call(u,null!=e?e.authorName:e,{name:"if",hash:{},fn:a.program(1,r,0),inverse:a.noop,data:r}))?t:"")+", "+o((l.intlMessage||e&&e.intlMessage||i).call(u,{name:"intlMessage",hash:{intlName:"share-modal.ON_FLICKR"},data:r}))},useData:!0}),n={};a.Array.each([],function(e){var l=a.Template.get("hermes/"+e);l&&(n[e]=l)}),a.Template.register("hermes/fluid-share-bb-code",function(e,r){return r=r||{},r.partials=r.partials?a.merge(n,r.partials):n,l(e,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-share-modal-mail-pill",function(a,e){var s=a.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(a,e,s,l,t){var r=null!=e?e:{},i=s.helperMissing,n=a.escapeExpression;return'<div class="pill" title="'+n((s.stripTags||e&&e.stripTags||i).call(r,null!=e?e.value:e,{name:"stripTags",hash:{},data:t}))+'">\n\t<span>'+n((s.stripTags||e&&e.stripTags||i).call(r,null!=e?e.value:e,{name:"stripTags",hash:{},data:t}))+'</span>\n\t<span class="remove-tag">\n\t\t<i class="delete-tag" title="Delete"></i>\n\t</span>\n</div>'},useData:!0}),l={};a.Array.each([],function(e){var s=a.Template.get("hermes/"+e);s&&(l[e]=s)}),a.Template.register("hermes/share-modal-mail-pill",function(e,t){return t=t||{},t.partials=t.partials?a.merge(l,t.partials):l,s(e,t)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-warning",function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,s,l){var t;return e.escapeExpression("function"==typeof(t=null!=(t=n.title||(null!=a?a.title:a))?t:n.helperMissing)?t.call(null!=a?a:{},{name:"title",hash:{},data:l}):t)},3:function(e,a,n,s,l){return e.escapeExpression((n.intlMessage||a&&a.intlMessage||n.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"common.OOPS"},data:l}))},compiler:[7,">= 4.0.0"],main:function(e,a,n,s,l){var t,i,r=null!=a?a:{},u=n.helperMissing,m=e.escapeExpression;return'<div class="fluid-warning">\n\t<span class="warning-title">'+(null!=(t=n.if.call(r,null!=a?a.title:a,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l}))?t:"")+'</span>\n\t<br/><br/>\n\t<span class="warning-message">'+m("function"==typeof(i=null!=(i=n.message||(null!=a?a.message:a))?i:u)?i.call(r,{name:"message",hash:{},data:l}):i)+'</span>\n\t<button class="button">'+m((n.intlMessage||a&&a.intlMessage||u).call(r,{name:"intlMessage",hash:{intlName:"common.OK"},data:l}))+"</button>\n</div>"},useData:!0}),s={};e.Array.each([],function(a){var n=e.Template.get("hermes/"+a);n&&(s[a]=n)}),e.Template.register("hermes/fluid-warning",function(a,l){return l=l||{},l.partials=l.partials?e.merge(s,l.partials):s,n(a,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-panel-error",function(e,a){var r=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,r,s,n){var l,t=null!=a?a:{},i=r.helperMissing,o=e.escapeExpression;return'<div class="share-panel-body cancel-share">\n\t<div class="cancel-message">\n\t\t'+o("function"==typeof(l=null!=(l=r.errorMessage||(null!=a?a.errorMessage:a))?l:i)?l.call(t,{name:"errorMessage",hash:{},data:n}):l)+'\n\t</div>\n\n\t<button class="done-sharing mini">'+o((r.intlHTMLMessage||a&&a.intlHTMLMessage||i).call(t,{name:"intlHTMLMessage",hash:{intlName:"common.CANCEL"},data:n}))+"</button>\n</div>"},useData:!0}),s={};e.Array.each([],function(a){var r=e.Template.get("hermes/"+a);r&&(s[a]=r)}),e.Template.register("hermes/fluid-share-panel-error",function(a,n){return n=n||{},n.partials=n.partials?e.merge(s,n.partials):s,r(a,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-old-html-embed-code",function(a,e){var l=a.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(a,e,l,t,n){var h,i=null!=e?e:{},r=l.helperMissing,s="function",m=a.escapeExpression;return'<a href="'+m(typeof(h=null!=(h=l.embedLink||(null!=e?e.embedLink:e))?h:r)===s?h.call(i,{name:"embedLink",hash:{},data:n}):h)+'" title="'+m(typeof(h=null!=(h=l.title||(null!=e?e.title:e))?h:r)===s?h.call(i,{name:"title",hash:{},data:n}):h)+" by "+m(typeof(h=null!=(h=l.authorName||(null!=e?e.authorName:e))?h:r)===s?h.call(i,{name:"authorName",hash:{},data:n}):h)+", "+m((l.intlMessage||e&&e.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"share-modal.ON_FLICKR"},data:n}))+'"><img src="'+m(typeof(h=null!=(h=l.farmURL||(null!=e?e.farmURL:e))?h:r)===s?h.call(i,{name:"farmURL",hash:{},data:n}):h)+'" width="'+m(typeof(h=null!=(h=l.width||(null!=e?e.width:e))?h:r)===s?h.call(i,{name:"width",hash:{},data:n}):h)+'" height="'+m(typeof(h=null!=(h=l.height||(null!=e?e.height:e))?h:r)===s?h.call(i,{name:"height",hash:{},data:n}):h)+'" alt="'+m(typeof(h=null!=(h=l.alt||(null!=e?e.alt:e))?h:r)===s?h.call(i,{name:"alt",hash:{},data:n}):h)+'"></a>'},useData:!0}),t={};a.Array.each([],function(e){var l=a.Template.get("hermes/"+e);l&&(t[e]=l)}),a.Template.register("hermes/fluid-share-old-html-embed-code",function(e,n){return n=n||{},n.partials=n.partials?a.merge(t,n.partials):t,l(e,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-fluid-share-old-iframe-embed-code",function(e,l){var a=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,l,a,r,n){var t,i=null!=l?l:{},s=a.helperMissing,h=e.escapeExpression;return'<iframe src="'+h("function"==typeof(t=null!=(t=a.embedLink||(null!=l?l.embedLink:l))?t:s)?t.call(i,{name:"embedLink",hash:{},data:n}):t)+'" width="'+h("function"==typeof(t=null!=(t=a.width||(null!=l?l.width:l))?t:s)?t.call(i,{name:"width",hash:{},data:n}):t)+'" height="'+h("function"==typeof(t=null!=(t=a.height||(null!=l?l.height:l))?t:s)?t.call(i,{name:"height",hash:{},data:n}):t)+'" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>'},useData:!0}),r={};e.Array.each([],function(l){var a=e.Template.get("hermes/"+l);a&&(r[l]=a)}),e.Template.register("hermes/fluid-share-old-iframe-embed-code",function(l,n){return n=n||{},n.partials=n.partials?e.merge(r,n.partials):r,a(l,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("flutil",function(e){"use strict";var t,n=e.config.win,r=e.config.doc,o={transitionTimeout:2e3},i={getPrefixedStyleProperty:{}},a={};t=e.flutil={xbrowser:{transition:{property:"transitionProperty",duration:"transitionDuration",transitionEndEvent:"transitionend"}},setStylePrefixed:function(t,n,r){var o=this.getPrefixedStyleProperty(t);return e.Array.each(o,function(e){r.setStyle(e,n)}),r},getPrefixedStyleProperty:function(t){if(i.getPrefixedStyleProperty[t])return i.getPrefixedStyleProperty[t];var n=[];return e.Array.each(["-webkit-","-moz-","-ms-",""],function(e){n.push(e+t)}),i.getPrefixedStyleProperty[t]=n,n},dump:function(){for(var e,t=new Array(arguments.length),n=0;n<t.length;++n)t[n]=arguments[n];e="string"==typeof t[0]?t.shift():"LOG",t.unshift("color: #FC0"),t.unshift("%c["+e+"]"),console.log.apply(console,t)},extend:function(e){e||(e={});for(var t=new Array(arguments.length),n=0;n<t.length;++n)t[n]=arguments[n];return Array.prototype.slice.call(t,1).forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e},objectCreate:function(e,n){var r,o;return r=function(){},r.prototype=e,o=new r,n?t.extend(o,n):o},result:function(t){return e.Lang.isFunction(t)?t():t},onTransitionEnd:function(e,r){if(r&&"function"==typeof r){var i,a,u,s;if(e=e.getDOMNode(),u=n.getComputedStyle(e)[t.xbrowser.transition.property],s=n.getComputedStyle(e)[t.xbrowser.transition.duration],!u||!s)return r();a=function(){clearTimeout(i),e.removeEventListener(t.xbrowser.transition.transitionEndEvent,a),r()},i=setTimeout(a,o.transitionTimeout),e.addEventListener(t.xbrowser.transition.transitionEndEvent,a)}},toCamelCase:function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},setCookie:function(t){if(!t.cookieName||void 0===t.cookieValue||!t.path)throw new Error("[flutil.setCookie] Missing important parameters to set a cookie");var n=t.cookieName,r=t.cookieValue,o=t.domain||".flickr.com",i=t.path,a=t.expiresMonthsFromNow||3,u=e.Lang.isNumber(t.expires)?t.expires:e.moment().add(a,"months").toDate();t.remove&&e.Cookie.remove(n,{path:i}),e.Cookie.set(n,r,{domain:o,path:i,expires:u})},createFragment:function(e){var t,n=r.createElement("div"),o=r.createDocumentFragment();for(n.innerHTML=e;t=n.firstChild;)o.appendChild(t);return o},constrainToValues:function(e,t){if(!t)throw new Error("Must supply list to constrain to values.");return e&&"string"==typeof e?t.indexOf(e)<0?t[0]:e:t[0]},escapeInput:function(e,t){var n;return r?e||"number"==typeof e?(t||(t="text"),"html"===t?((n=r.createElement("div")).appendChild(r.createTextNode(e)),n.innerHTML):"text"===t?(n=r.createElement("div"),e=e.replace(/(<([^>]+)>\s*)+/gi," ").trim(),n.appendChild(r.createTextNode(e)),n.innerHTML):"numericstring"===t?(e+"").replace(/[^\d]/,""):void 0):"":e},disableEvent:function(n,r){r=e.merge({excepted:":not(*)",onDisabledEvent:null},r),document.body.addEventListener&&(a[n]=a[n]||{},a[n][r.excepted]&&t.enableEvent(n,r.excepted),a[n][r.excepted]=function(t){r.excepted&&e.one(t.target).ancestors(r.excepted,!0).isEmpty()&&(t.preventDefault(),t.stopPropagation(),r.onDisabledEvent&&r.onDisabledEvent(t))},document.body.addEventListener(n,a[n][r.excepted],!0))},enableEvent:function(t,n){n=e.merge({excepted:":not(*)"},n),a[t]&&a[t][n.excepted]&&(document.body.removeEventListener(t,a[t][n.excepted],!0),a[t][n.excepted]=null)},unescape:function(t){if(!t||!e.Lang.isString(t))return t;var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#92;":"\\"};return t.replace(/(&amp;|&lt;|&gt;|&quot;|&#x27;|&#39;|&#92;)/gi,function(e){return n[e.toLowerCase()]})},normalizeURIComponents:function(e){var t,n,r,o;if(t={"&":["&amp;","&#x00026;","&#38;"],"<":["&lt;","&#x0003C;","&#60;"],">":["&gt;","&#x0003E;","&#62;"],'"':["&quot;","&#x00022;","&#34;"],"'":["&apos;","&#x00027;","&#39;"],"`":["&grave;","&DiacriticalGrave;","&#x00060;","&#96;"]},e){e=(e=e.replace(/\+/g," ")).replace(/%25/g,"%2525");for(n in t)r=n,o=t[n],e=e.replace(new RegExp(o.join("|"),"gi"),r);return e=decodeURIComponent(e)}},template:function(e,t){return e.replace(/\{\{([\w\.=]+)\}\}/g,function(e,n){var r,o=n.split(/=/);return void 0!==(r=o[0].split(/\./).reduce(function(e,t){return e?e[t]:null},t))&&null!==r?r+"":o[1]||""}).trim()},createHashCode:function(e){var t;return t="object"!=typeof e?e+"":Object.keys(e||{}).map(function(t){var n=t;try{n+=JSON.stringify(e[t])}catch(e){n+="?"}return n}).join(""),t=t.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0).toString().replace(/^-/,""),"0000000000".slice(0,-1*t.length)+t},camelCaseifyKeys:function(e){return Object.keys(e).reduce(function(n,r){return n[t.camelCaseify(r)]=e[r],n},{})},camelCaseify:function(e){return e.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})},unCamelCaseify:function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^-/,"")},unicodeVariants:["(?:ae|æ)","(?:oe|œ)","(?:ss|ß)","(?:th|Þ)","[aáàâäãaåấ]","[eéèêëě3]","[iíìîïǐ]","[oóòôöõǒỏơớờởỡợø]","[uúùûüǔǚưứừửữự]","[yýÿ]","[cçč]","[dÐ]","[fƒ]","[gǧ]","[hȟ]","[jǰ]","[kǩ]","[lľ]","[nñň]","[rř®]","[sšṧ]","[tť]","[zž]"],agnosticizeUnicode:function(e){var t,n=this.unicodeVariants,r=n.length;for(t=0;t<r;t++)e=e.replace(new RegExp(n[t],"gi"),n[t]);return e},buildHttpQuery:function(e,t){return e+"?"+Object.keys(t||{}).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},formatNumbers:function(e){return Math.floor(e/1e6)>0?e=Math.floor(e/1e5)/10+"M":Math.floor(e/1e3)>0?e=Math.floor(e/100)/10+"K":e},formatIntlPluralNumber:function(t,n,r){var o=e.flutil.formatNumbers(n);return r?t.replace(/(?:\d*[,\.]\d+)+/,o):t.replace(/(?:\d*[,\.\s]\d+)+/,o)},openPopupWindow:function(t,n){var r,o,i,a,u,s;if("undefined"!=typeof window)return o=window,n=e.mix({name:"WIN"+(new Date).getTime(),ui:{}},n||{},!0),(i=e.mix({dependent:!0,status:!0,scrollbars:!0,width:600,height:600},n.ui,!0)).top||(i.top=Math.floor((o.screen.height-i.height)/2)),i.left||(i.left=Math.floor((o.screen.width-i.width)/2)),r=Object.keys(i).map(function(e){var t=i[e];return"boolean"==typeof t&&(t=t?"yes":"no"),e+"="+t}).join(","),(o=o.open(t,n.name,r)).focus(),(n.onUrlChange||n.onClose)&&(a="_start_",s=setInterval(function(){if(!o.location)return clearInterval(s),void(n.onClose&&n.onClose());try{u=o.location.href||"x-origin"}catch(t){o.postMessage("",e.url())}u!==a&&(a=u,n.onUrlChange&&n.onUrlChange(u))},1e3)),o},parseYYYYMMDDDatestamp:function(t){return e.Lang.isString(t)&&8===t.length?Date.parse(t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)):null},photoCoords:{normalize:function(e,t,n,r){return{x:e/500,y:t/375,w:n/500,h:r/375}},denormalize:function(e){return{x:500*e.x,y:375*e.y,w:500*e.w,h:375*e.h}},denormX:function(e){return 500*e.x},denormY:function(e){return 375*e.y},denormW:function(e){return 500*e.w},denormH:function(e){return 375*e.h}},getGroupsOptoutValues:function(t){var n=[];return!0===t["rebootify-group-members"]&&n.push({name:"groups_members_opt",value:0}),!0===t["enable-groups-discussion-optout"]&&n.push({name:"groups_discuss_opt",value:0}),!0===t["enable-groups-optout"]&&n.push({name:"groups_opt",value:0}),{url:e.url("/help/forum/en-us/72157645851675914/lastpage#reply"),flippers:n}},nonLockingSynchronousLoop:function(e,t,n,r){var o,i=0,a=!0,u=Object.keys(e),s=function(e){t(e),++i>=c?n():i===o||a?(i===o&&(o+=r.threshold),a=!1,setTimeout(function(){s(u[i])},1)):s(u[i])},c=u.length;(r=r||{}).threshold=r.threshold||1e3,o=r.threshold,a=!1!==r.earlyUnlock,s(u[i])}}},"@VERSION@",{requires:["url"]});YUI.add("flickr-contacts-getListfetcher",function(e,t){"use strict";e.namespace("ListFetchers")["flickr-contacts-getList"]={run:function(r,s){var c=this;return r.extras=(r.extras||"")+", icon_urls, paid_products",e.Promise.all([s.callAPI("flickr.contacts.getList",r),s.getModelRegistry("person-models")]).then(function(e){return c._processResponse(e,r)},e.FetcherErrorLogger(t))},_processResponse:function(t,r){var s=t[0],c=t[1];return s.contacts&&s.contacts.contact&&s.contacts.contact.forEach(function(t){c.addOrUpdate(e.APIHelper.response.parsePerson(t))}),s}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["person-models"]});YUI.add("contact-search-box",function(t){var e,i=function(i){this.options=i,this.options.elValue=this.options.elValue||"value",this.options.hideInitially,this._contacts=null,this.queryEl=this.options.el,this.queryElEvent,this.listEl=null,e=this.options.DOMContainer||t.config.win,this.init()};i.prototype={langBundles:this.details.langBundles,init:function(){var e=this;if(!1!==this.options.showFollowingState&&(this.options.showFollowingState=!0),!this.queryEl)throw new Error("Need this.queryEl.");this.queryEl.on("keydown",this.keynav.bind(this)),this.queryElEvent=this.queryEl.on("keyup",this.search.bind(this)),this.wrapperEl=t.Node.create("<div/>"),this.wrapperEl.addClass("c-contact-search-autocomplete"),this.listEl=t.Node.create("<ul/>"),this.listEl.addClass("contact-list"),this.wrapperEl.appendChild(this.listEl),this.listEl.on("mouseover",function(t){var i=t.target.ancestor("li",!0);i&&i!==e.highlighted&&e._highlight(i)}),this.queryEl.ancestor().insertBefore(this.wrapperEl,this.queryEl),this.wrapperEl.appendChild(this.queryEl),this.options.clickContact=this.options.clickContact||function(t){var i=t.target.ancestor("[data-nsid]",!0),s=i?i.getData("nsid"):"";e.select(s)},this.listEl.delegate("click",this.options.clickContact,"li"),this.selectedIndex=0},keynav:function(t){38===t.keyCode?(t.preventDefault(),this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=this.numShowing+this.selectedIndex),this._highlight(this.selectedIndex),this._scrollToNode(this.highlighted)):40===t.keyCode?(t.preventDefault(),this.selectedIndex++,this.selectedIndex>this.numShowing-1&&(this.selectedIndex=this.numShowing-this.selectedIndex),this._highlight(this.selectedIndex),this._scrollToNode(this.highlighted)):9===t.keyCode?this._visible&&this.highlighted&&(t.preventDefault(),this.select(this.highlighted.getData("nsid"))):13===t.keyCode&&this._visible&&this.highlighted&&(t.preventDefault(),t.target.ancestor(".share-view",!0)||t.target.ancestor(".fluid-share-panel-view",!0)?this.select(this.highlighted.getData("nsid")):this.options.clickContact(t,this.highlighted))},_highlight:function(e){var i=this.listEl.all("li"),s=e instanceof t.Node,n=s?e:i.item(e),o=s?i.indexOf(e):e;!n||n.hasClass("loading")||n.hasClass("no-members")||(i.removeClass("highlight"),n.addClass("highlight"),this.selectedIndex=o,this.highlighted=n)},_scrollToNode:function(t){var e=this.listEl.get("scrollTop"),i=e+this.listEl.get("clientHeight"),s=t.get("offsetTop"),n=s+t.get("clientHeight");e>s?this.listEl.set("scrollTop",s-5):i<n&&this.listEl.set("scrollTop",n-this.listEl.get("clientHeight")+5)},getContact:function(t){for(var e=0,i=this._contacts,s=i.length;e<s;e++)if(i[e].nsid===t&&!i[e].hide)return i[e]},hideFromSearch:function(t){t=t.trim(),this._contacts&&this._contacts.some(function(e){if(e.nsid.trim()===t)return e.hide=!0,!0})},resetSearch:function(){this._contacts&&this._contacts.forEach(function(t){t.hide=!1})},showInSearch:function(t){t=t.trim(),this._contacts&&this._contacts.some(function(e){if(e.nsid.trim()===t)return e.hide=!1,!0})},load:function(t){var e,i={},s=this;if(!this._busy)return this._end=!1,this._busy=!0,i.can_tag=this.options.canTag||0,e=this.options.appContext.getViewer().nsid,this.options.appContext.getModel("contacts-models",e).then(function(e){return i.page=1,i.perPage=3e3,i.per_page=3e3,s._loadMoreContacts(e,i,t)},function(){s._busy=!1,s.options.onError()})},_loadMoreContacts:function(t,e,i){var s=this;return this._busy=!0,s.options.loadingState&&!s.listEl.one("li.loading")&&s.appendLoader(),t.getValue("contacts").getPage(e).then(function(n){s._contacts=(s.processContactModels(n,!0,!0)||[]).concat(s._contacts||[]),i(),s._contacts&&0!==s._contacts.length||s.hide(),e.page<t.getValue("pages")&&(e.page++,s._loadMoreContacts(t,e,i))},function(){s._busy=!1,s.options.onError()})},processContactModels:function(e,i,s){var n,o,l,h=this;try{l=e.map(function(t){return t.toJSON()})||[]}catch(t){l=[]}if(!h.contactIds&&(h.contactIds={},h._contacts))for(o in h._contacts)h.contactIds[o.id]=!0;return(l=l.filter(function(t){return!h.contactIds[t.id]})).forEach(function(e,i){h.contactIds[e.id]=!0,e.realname=e.realname||e.username,e.isContact=s,e.buddyicon=t.URLHelper.getBuddyIconURL(e.nsid,e.iconfarm,e.iconserver)}),i&&h.options.me&&(n=h.options.me.toJSON(),t.APIHelper.response.agnosticizeFarmPathTransferProtocol(n.buddyicon),n.buddyicon=n.buddyicon.default,h.contactIds[n.id]=!0,n.me=!0,l.push(n)),h.options.hideInitially&&l.forEach(function(t){h.options.hideInitially.indexOf(t.nsid)>-1&&(t.hide=!0)}),l},destructor:function(){this.queryElEvent&&this.queryElEvent.detach&&this.queryElEvent.detach()},hide:function(t){t&&t.halt(),this._visible&&(this._visible=!1,this.highlighted=null,this.selectedIndex=0,this.selected=null,this.options.noShim||this._shimUp(!1),this.listEl.setStyle("display","none"),this.options.onHide&&this.options.onHide())},show:function(){this._visible||(this._visible=!0,this.options.noShim||this._shimUp(),this.listEl.setStyle("display","block"),this._reposition(),this.options.onShow())},_reposition:function(){var i,s={width:e.innerWidth||e.clientWidth,height:e.innerHeight||e.clientHeight},n=this.options.el,o=n.getDOMNode(),l=o.getBoundingClientRect(),h=this.listEl.getDOMNode().getBoundingClientRect(),a=!this._contacts&&this.options.upInitially,c=e===t.config.win?l.top:o.clientTop;this.options.dialogOffset&&(i=this.options.dialogOffset()),a||c>0&&c+h.height+25>s.height&&!this.options.alwaysDownward?(this.listEl.setStyle("top","auto"),this.listEl.setStyle("bottom","25px"),this.options.onOrientationChange&&this.options.onOrientationChange(!0)):(this.listEl.setStyle("top",i||null),this.listEl.setStyle("bottom",null),this.options.onOrientationChange&&this.options.onOrientationChange(!1),n.ancestor(".modal",!0)&&this.listEl.setStyle("maxHeight",s.height-c-25))},_shimUp:function(e){if(!1===e){if(!this._shim)return;return this._shim.detach("click").remove(),void(this._shim=null)}this._shim=t.Node.create("<div/>"),this._shim.addClass(this.options.shim),this._shim.on("click",this.hide.bind(this)),this.wrapperEl.appendChild(this._shim)},select:function(t){"string"==typeof t&&(t=this.getContact(t))&&this.queryEl.set("value",t.realname),t&&(this.selected=t,this.options.onSelect(t)),this.hide()},search:function(t){var e,i,s=this.queryEl.get(this.options.elValue),n=this,o=this.options.appContext.getViewer().nsid;if(t&&27===t.keyCode)return t.preventDefault(),void this.queryEl.blur();if(t&&-1!==[38,40,9].indexOf(t.keyCode))t.preventDefault();else{if(this._nameTest(s),this.selected=null,this.selectedIndex=0,this.abort=!1,""===s.trim())return this.abort=!0,this.hide();if(this.options.searchNonContacts||(this._end=!0,this._busy=!1),this._contacts&&this.options.me&&"me"===s)return this.showResults(this._contacts.filter(function(t){return!t.hide&&t.me}).concat(this._contacts.filter(function(t){return!t.hide&&n._matchesQuery(t)})));if(this._isEmail(s))return this.select({email:s,nsid:null});if(/,/.test(s))return this.select(null);if(!this._contacts){if(this.options.signedOut)return;this.showResults(),this.load(this.search.bind(this))}this._contacts&&(e=this._contacts.filter(function(t){return!t.hide&&n._matchesQuery(t)})),this.showResults(e),n.listEl.getDOMNode(),this.options.searchNonContacts&&(this.options.loadMoreOnScroll&&s.length>0?(i=1,clearTimeout(this.searchAllPeople),this.searchInstanceId=999999*Math.random(),this.searchAllPeople=setTimeout(function(){n._searchPeople(s,o,i,n.searchInstanceId,function(){n._busy=!1,n.showResults(n._contacts.filter(function(t){return!t.hide&&n._matchesQuery(t)})),n.listElScrollEvent=n.listEl.on("scroll",function(){n.listEl._node.clientHeight+n.listEl._node.scrollTop===n.listEl._node.scrollHeight&&(i++,n._loadMore(i,o,s))})})},500)):(clearTimeout(this.searchAllPeople),this.searchInstanceId=999999*Math.random()))}},_loadMore:function(t,e,i){var s=this;this._busy=!0,clearTimeout(this.searchAllPeople),this.searchInstanceId=999999*Math.random(),this.searchAllPeople=setTimeout(function(){s.options.loadingState&&!s.listEl.one("li.loading")&&s.appendLoader(),s._searchPeople(i,e,t,s.searchInstanceId,function(){s.showResults(s._contacts.filter(function(t){return!t.hide&&s._matchesQuery(t)})),s.listElScrollEvent&&s.listElScrollEvent.detach(),s.listElScrollEvent=s.listEl.on("scroll",function(){s.listEl._node.clientHeight+s.listEl._node.scrollTop===s.listEl._node.scrollHeight&&(t++,s._loadMore(t,e,i))})})},100)},_nameTest:function(e){var i=new RegExp(".*"+t.flutil.agnosticizeUnicode(e).replace(/\s/,"\\s")+".*","ig");this._matchesQuery=function(t){return i.test(t.username)||i.test(t.realname)||i.test(t.email)}},appendLoader:function(t){t=t||this.listEl;var e=document.createElement("li"),i=t.scrollTop;e.className="loading",e.innerHTML=this.options.loadingState,t.appendChild(e),t.scrollTop=i+e.clientHeight},_searchPeople:function(t,e,i,s,n){var o,l=this;l._end=!1,l.options.loadingState&&!l.listEl.one("li.loading")&&l.appendLoader(),l.options.appContext.getModel("contacts-models",e).then(function(e){return(o=e.search({username:t,page:i})).then(function(t){var e=t.people,i=l.processContactModels(e,!1,!1);l._contacts=l._contacts||[],l._contacts=l._contacts.concat(i),l._contacts.some(function(t){return l._matchesQuery(t)})||(l._end=!0),n()},function(){l._end=!0,l._busy=!1,n()})},function(){l._end=!0,l._busy=!1,n()})},_isEmail:function(t,e){t=/,/.test(t)?t.split(/,/):[t];var i=/^\s*[\w\-\+_]+(\.[\w\-\+_]+)*@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/;if(e){for(;t.length;)if(i.test(t.shift().trim()))return!0;return!1}for(;t.length;)if(!i.test(t.shift().trim()))return!1;return!0},showResults:function(e){if(!this.abort){var i,s,n=this.options.max||10,o=this;i=document.createDocumentFragment(),e&&this.selectedIndex>=e.length&&(this.selectedIndex=e.length-1),this.numShowing=Math.min(n,e&&e.length||0),!o._busy&&e&&0===e.length?((s=document.createElement("li")).innerHTML='<span class="no-contacts">'+this.intlMessage({intlName:"photo-page-scrappy.NO_MEMBERS_FOUND"})+"</span>",s.className="no-members",i.appendChild(s),o.highlighted=null):e&&e.slice(0,n).forEach(function(e,s,n){var l=o.createItem(e);s===o.selectedIndex&&(l.setAttribute("class","highlight"),o.highlighted=t.Node(l)),i.appendChild(l)}),!o._busy&&e||!o.options.loadingState||o.appendLoader(i),this.options.loadMoreOnScroll&&this.listElScrollEvent&&this.listElScrollEvent.detach(),this.listEl.setHTML(""),this.listEl.getDOMNode().appendChild(i),this.show()}},_template:function(){return['<img src="{{buddyicon}}">','<div class="following-status {{isContact}}">','<span class="following-icon">&nbsp;</span>',"<span>"+this.intlMessage({intlName:"common.FOLLOWING"})+"</span>","</div>",'<h2 class="all">{{realname}}</h2>','<h3 class="all">{{username}}</h3>'].join("")},_onlyContactTemplate:['<img src="{{buddyicon}}">',"<h2>{{realname}}</h2>","<h3>{{username}}</h3>"].join(""),createItem:function(e){var i,s=document.createElement("li"),n=this.options.searchNonContacts&&this.options.showFollowingState?this._template():this._onlyContactTemplate,o=this.options.truncateLength||70;return i=n.replace(/\{\{(\w+)\}\}/g,function(i,s){if("buddyicon"===s)return e[s];if("isContact"===s)return e[s]?"am-following":"";var n=t.flutil.escapeInput(e[s]);return t.Handlebars.helpers.truncate(n,o)}),s.innerHTML=i,s.dataset?(s.dataset=s.dataset,s.dataset.nsid=e.nsid,s.dataset.displayname=e.realname||e.username,s.dataset.pathAlias=e.pathAlias,s.dataset.ispro=e.isPro,s.dataset.probadge=e.proBadge):(s.setAttribute("data-nsid",e.nsid),s.setAttribute("data-displayname",e.realname||e.username),s.setAttribute("data-path-alias",e.pathAlias),s.setAttribute("data-ispro",e.isPro),s.setAttribute("data-probadge",e.proBadge)),s}},t.mix(i.prototype,t.Localizable),t.ContactSearchBox=i},"@VERSION@",{requires:["api-helper","flutil","handlebars-helpers","flickr-contacts-getListfetcher"],langBundles:["common","photo-page-scrappy"]});YUI.add("hermes-template-html5-balls",function(e,a){var l=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,l,t,r){return'\n<div class="html5-balls">\n\t<div class="blueball"></div>\n\t<div class="pinkball"></div>\n</div>\n'},useData:!0}),t={};e.Array.each([],function(a){var l=e.Template.get("hermes/"+a);l&&(t[a]=l)}),e.Template.register("hermes/html5-balls",function(a,r){return r=r||{},r.partials=r.partials?e.merge(t,r.partials):t,l(a,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-html4-balls",function(e,a){var r=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,a,r,t,l){return'\n<div class="html4-balls"></div>\n'},useData:!0}),t={};e.Array.each([],function(a){var r=e.Template.get("hermes/"+a);r&&(t[a]=r)}),e.Template.register("hermes/html4-balls",function(a,l){return l=l||{},l.partials=l.partials?e.merge(t,l.partials):t,r(a,l)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("html5-balls",function(e){var l,t=!(e.UA.ie&&e.UA.ie<9);l=function(e){return t?"html5-balls":"html4-balls"},e.augment(l,e.Attribute),e.Balls=l},"@VERSION@",{requires:["base","hermes-template-html5-balls","hermes-template-html4-balls","handlebars-helpers","template-base"]});YUI.add("fluid-share-panel-view",function(e,t){function i(e){return e.displayUrl||e.url||e.src}var s=require("hermes-core/flog")(t),a=require("url-parse"),n={},r=["sq","t","q","s","n","m","z","c","b","l","h","k"],l={header:"false",footer:"false",context:"false",vr:"false"};n["embed-code-size-field"]="embed-code-text-field",n["iframe-code-size-field"]="iframe-code-text-field",n["bb-code-size-field"]="bb-code-text-field",e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.networkClasses=t.networkClasses||{},this.linkShareParams=t.linkShareParams,this.guestPassParams=t.guestPassParams||{},this.emailShareParams=t.emailShareParams,this.signedOutSharingPerms=t.signedOutSharingPerms||{},this.shareItemCount=t.shareItemCount||1,this.PERMISSIONS=[],this.guestPassParams.canSharePrivate&&this.PERMISSIONS.push({text:this.intlMessage({intlName:"share-modal.SHARE_PRIVATE"}),value:"private"}),!1!==this.guestPassParams.shareNonPublic&&(this.guestPassParams.contentMarkedFriendFamily&&this.PERMISSIONS.push({text:this.intlMessage({intlName:"share-modal.SHARE_FRIENDS_AND_FAMILY"}),value:"family_and_friends"}),this.guestPassParams.contentMarkedFamily&&this.PERMISSIONS.push({text:this.intlMessage({intlName:"share-modal.SHARE_FAMILY"}),value:"family"}),this.guestPassParams.contentMarkedFriends&&this.PERMISSIONS.push({text:this.intlMessage({intlName:"share-modal.SHARE_FRIENDS"}),value:"friends"})),this.guestPassParams.contentMarkedPublic&&this.PERMISSIONS.push({text:this.intlMessage({intlName:"share-modal.SHARE_PUBLIC_ONLY"}),value:"public"}),this.isMine=t.isMine||!1,this.cancel=!1,this.guestPasses={},this.flickrShare={recipients:[],guestpassStr:this.PERMISSIONS[0]?this.PERMISSIONS[0].value:"private"},this.appContext.flipper.isFlipped("enable-share-restyle")&&(l=e.StorageHelper.getItem("embedr-options")?JSON.parse(e.StorageHelper.getItem("embedr-options")):l),t.canVr?l.vr="true":l.vr="false",this},loadState:function(){var t=[],i=this;if(this.appContext.getViewer().nsid&&t.push(this.appContext.getModel("person-models",this.appContext.getViewer().nsid).then(function(e){i.set("me",e)})),this.guestPassParams.shareToAll)Object.keys(this.signedOutSharingPerms).forEach(function(e){i.networkClasses[e].canShare=!0});else if(this.guestPassParams.shareToSpecific)Object.keys(this.guestPassParams.shareToSpecific).forEach(function(e){i.networkClasses[e].canShare=i.guestPassParams.shareToSpecific[e].canShare,i.networkClasses[e].canNotShareTitle=i.guestPassParams.shareToSpecific[e].canNotShareTitle});else{var s={};s[this.emailShareParams.modelName+"_id"]=this.emailShareParams.modelId,this.emailShareParams.modelOwnerId&&(s.owner_id=this.emailShareParams.modelOwnerId),t.push(this._loadSharingPermissionsFromAPI(s))}return e.Promise.all(t)},_loadSharingPermissionsFromAPI:function(e){var t=this;return e.breakCache=(new Date).toISOString(),this.appContext.callAPI("flickr.sharing.canShare",e).then(function(e){e&&e.services&&e.services.service&&e.services.service.forEach(function(e){Object.keys(t.networkClasses).some(function(i){if(t.networkClasses[i].serviceId===e.serviceTypeId){if(t.networkClasses[i].canShare=!!e.canShare,"flickr"===i&&!1===t.appContext.getViewer().signedIn&&(t.networkClasses[i].canShare=!1),e.canShare||(t.networkClasses[i].canNotShareTitle=e.reason.map(function(e){return e.content}).join(", ")),130===e.serviceTypeId&&e.reason&&e.reason.length&&e.reason.some(function(e){return 3===e.code}))return t.cancelMessage=t.intlMessage({intlName:"share-modal.CANCEL_SHARE_BECAUSE_RESTRICTED"}),t.cancel=!0,!0;if(130===e.serviceTypeId){if(t.PERMISSIONS.length&&"public"!==t.PERMISSIONS[t.PERMISSIONS.length-1].value&&(t.guestpassRequired=!0),e.availableGuestpasses){1===e.guestpassRequired&&t.PERMISSIONS.length&&"public"===t.PERMISSIONS[t.PERMISSIONS.length-1].value&&t.PERMISSIONS.shift(),1===e.guestpassRequired&&(t.guestpassRequired=!0,t.guestPassParams=t.guestPassParams||{},t.guestPassParams.contentMarkedPublic=!1,t.guestPassParams.nonPublicWarning=!0);var s=!1,a=!1,n=!1;e.availableGuestpasses.guestpass.forEach(function(e){"friends"===e.content&&(s=!0),"family"===e.content&&(a=!0),"private"===e.content&&(n=!0)});for(var r=0;r<t.PERMISSIONS.length;)"friends"===t.PERMISSIONS[r].value&&!s||"family"===t.PERMISSIONS[r].value&&!a||"family_and_friends"===t.PERMISSIONS[r].value&&!a&&!s||"private"===t.PERMISSIONS[r].value&&!n?t.PERMISSIONS.splice(r,1):r++}else t.PERMISSIONS.length&&"public"===t.PERMISSIONS[t.PERMISSIONS.length-1].value&&(t.PERMISSIONS=[t.PERMISSIONS[0]]);t.flickrShare.guestpassStr=t.PERMISSIONS[0]?t.PERMISSIONS[0].value:"private"}return!0}return!1})})},function(e){s.error("Error reading canShare permissions",{err:e}),Object.keys(t.signedOutSharingPerms).forEach(function(e){t.networkClasses[e].canShare=t.signedOutSharingPerms[e].canShare})})},buildContainer:function(){var t,i=this.guestPassParams.showGuestPassDropdown&&this.isMine&&!!this.guestPassParams.type||!this.guestPassParams.contentMarkedPublic,s="";if(this.cancel)return this.setContainerWithTemplate("fluid-share-panel-error",{errorMessage:this.cancelMessage||this.intlMessage({intlName:"share-modal.CANCEL_SHARE_BECAUSE_ERROR",photoCount:this.guestPassParams.multipleItems?2:1})}),this;if(this.linkShareDisplay=this.generateLinkSharingDisplay(this.linkShareParams),s="macintosh"===e.UA.os?this.intlMessage({intlName:"share-modal.COPY_MAC"}):this.intlMessage({intlName:"share-modal.COPY_PC"}),t={networkClasses:this.networkClasses,linkShareDisplay:this.linkShareDisplay,privacyWarningString:this.linkShareParams.privacyWarningString,downloadAccessString:this.linkShareParams.downloadAccessString,showDownloadWarning:this.linkShareParams.showDownloadWarning,shareItemCount:this.shareItemCount,grabLink:this.guestPassParams.contentMarkedPublic||this.linkShareParams.generateLink?this.linkShareParams.shortURL:null,canHaveGuestpass:i,emailShareParams:this.emailShareParams,showMailPerms:this.guestPassParams.showGuestPassDropdown&&this.isMine&&this.guestPassParams.multipleItems&&this.PERMISSIONS.length>0,nonPublicWarning:this.guestPassParams.nonPublicWarning,grabLinkDefaultPermission:(i&&this.PERMISSIONS.length)>0?this.PERMISSIONS[0].text:"",copyMessage:s,choiceOfPermission:this.PERMISSIONS.length>1,displayOptions:l,showSlideshowOption:void 0!==this.linkShareParams.albumId||void 0!==this.linkShareParams.galleryId,isEdge:this.appContext.getUA().isEdge},this.linkShareDisplay.embedr){var a,n=0,o=e.StorageHelper.getItem("fluid-share-panel-embedr-default-size");this.linkShareDisplay.embedr.sizes.forEach(function(e,t){if(o&&e.sizeKey===o&&(n=t,a=!0),!a){r.indexOf(e.sizeKey)>n&&(n=t)}}),t.defaultSizeStr=this.linkShareDisplay.embedr.sizes[n].sizeStr,t.defaultEmbedrCode=this.linkShareDisplay.embedr.sizes[n].embedCode,e.StorageHelper.setItem("fluid-share-panel-embedr-default-size",this.linkShareDisplay.embedr.sizes[n].sizeKey)}if(this.linkShareDisplay.bbCode){var h,d=0,c=e.StorageHelper.getItem("fluid-share-panel-bbCode-default-size");this.linkShareDisplay.bbCode.sizes.forEach(function(e,t){if(c&&e.sizeKey===c&&(d=t,h=!0),!h){r.indexOf(e.sizeKey)>d&&(d=t)}}),t.defaultBBCode=this.linkShareDisplay.bbCode.sizes[d].embedCode,t.defaultBBCodeSizeStr=this.linkShareDisplay.bbCode.sizes[d].sizeStr}if(this.linkShareDisplay.iframe){var m,u=0,p=e.StorageHelper.getItem("fluid-share-panel-iframe-default-size");this.linkShareDisplay.iframe.sizes.forEach(function(e,t){if(p&&e.sizeKey===p&&(u=t,m=!0),!m){r.indexOf(e.sizeKey)>u&&(u=t)}}),t.defaultIframeSizeStr=this.linkShareDisplay.iframe.sizes[u].sizeStr,t.defaultIframeCode=this.linkShareDisplay.iframe.sizes[u].embedCode}return this.linkShareDisplay.bbCode||this.linkShareDisplay.embedr||this.linkShareDisplay.iframe||(t.hideButtons=!0),t.moveInstructionsUp=t.hideButtons&&!t.canHaveGuestpass&&!t.choiceOfPermission,this.appContext.flipper.isFlipped("enable-share-restyle")?this.setContainerWithTemplate("fluid-share-panel-restyle",t):this.setContainerWithTemplate("fluid-share-panel",t),this},additionalViewClasses:function(){var e=[];return this.appContext.flipper.isFlipped("enable-share-restyle")&&e.push("restyle"),e},activate:function(){var i=this.get("container"),s=this;if(this.registerEventHandler(i.delegate("click",function(e){e.preventDefault(),s.fire("subviewViewEvent","done-sharing")},".done-sharing")),this.guestpassRequired&&this.fire("subviewViewEvent","guestpass-required"),this.cancel)return this;this.dropdowns={},this.linkShareDisplay||(this.linkShareDisplay=this.generateLinkSharingDisplay(this.linkShareParams)),this.registerEventHandler(e.globalEvents.subscribe("window:keydown",function(t){(t.e.ctrlKey||t.e.metaKey)&&67===t.e.keyCode&&e.rapidTracker.beacon(s.name,"linkCopied-"+e.StorageHelper.getItem("fluid-share-panel-first-selected"))})),this.registerEventHandler(i.delegate(["click","keydown"],function(e){"click"!==e.type&&13!==e.keyCode||(e.preventDefault(),s._toggleLinkSelection(e,i))},".link-type-button")),this.registerEventHandler(i.delegate("change",function(e){e.currentTarget.getDOMNode().checked?(i.one(".embed-privacy-container").addClass("hide"),i.one(".embed-options-container").removeClass("hide")):(i.one(".embed-privacy-container").removeClass("hide"),i.one(".embed-options-container").addClass("hide"))},".embed-guestpass-checkbox")),this.registerEventHandler(i.delegate("click",function(e){e.preventDefault(),s._createdDropdownForEmbedIframeBB.bind(s)(e,i)},".embed-size-field")),this.registerEventHandler(i.delegate("click",function(e){e.preventDefault(),s._createGrabLinkPermissionDropdown(e,i)},".grab-link-field")),this.registerEventHandler(i.delegate("click",function(e){e.preventDefault(),s._createMailPermissionDropdown(e,i)},".mail-perm-field")),this.registerEventHandler(i.delegate("click",function(e){s.selectInput(e.target)},".bb-code-text-field, .grab-link-text-field, .embed-code-text-field")),e.use("event-touch",function(e){s.registerEventHandler(e.one("."+t).delegate("touchend",function(e){s.selectInput(e.target)},".bb-code-text-field, .grab-link-text-field, .embed-code-text-field"))}),this.registerEventHandler(i.delegate("click",function(t){s.networkClasses&&t.target.ancestor("."+s.networkClasses.flickr.className,!0)&&(t.preventDefault(),i.one(".share-panels").addClass("show-email-form"),e.rapidTracker.beacon(s.name,"emailTabClick"))},".share-link.sharing-type-enabled")),!this.appContext.flipper.isFlipped("enable-share-restyle")&&i.one(".leave-email-sharing")&&this.registerEventHandler(i.one(".leave-email-sharing").on("click",function(e){e.preventDefault(),i.one(".share-panels").removeClass("show-email-form")})),i.one(".share-by-email")&&this.registerEventHandler(i.one(".share-by-email").on("click",function(e){e.preventDefault(),s._onShareByEmail(e)})),s.appContext.flipper.isFlipped("enable-embedr-in-share")&&s.appContext.flipper.isFlipped("enable-share-restyle")&&this.registerEventHandler(i.delegate("change",function(e){e.halt(),s._updateEmbedrOptions(e)},".embed-options input")),this.setupEmailSharing();var a=this.PERMISSIONS[0].value;if(!this.linkShareParams.generateLink&&((this.appContext.flipper.isFlipped("enable-public-guestpass")||this.guestpassRequired)&&this.isMine&&-1===this.linkShareParams.url.indexOf("favorites")||"public"!==a)){"public"!==a&&i.one(".grab-link-privacy-reminder").removeClass("hide-reminder");var n=[1,1,1];"friends"===a?n=[0,1,0]:"family"===a?n=[1,0,0]:"family_and_friends"===a&&(n=[1,1,0]),this.requestGuestpass.apply(this,n)}if(this.linkShareParams.generateLink&&(i.one(".grab-link-privacy-reminder").removeClass("hide-reminder"),this.generatingLink||(this.generatingLink=!0,this.startGuestpassLoader(),this.fire("subviewViewEvent","generate-link"))),!this.appContext.flipper.isFlipped("enable-share-restyle")){var r=e.OverflowHelper.detectScrollbarSize(e.one("body"));i.one(".message-form")&&i.one(".message-form").setStyle("paddingRight",r+"px"),i.one(".share-by-email")&&i.one(".share-by-email").setStyle("marginRight",r+"px"),i.one(".share-panel-body")&&i.one(".share-panel-body").setStyle("paddingRight",r+"px")}return this.setHighlightWidths(),i.one(".grab-link-download-reminder a").addClass("tabbable"),this},onParentViewEvent:function(t,i){var s=this.get("container"),n=s.one(".grab-link-text-field"),r=e.StorageHelper.getItem("fluid-share-panel-first-selected")||"grabLinkItem";if("flickr-share-error"===i[0])this._onWarning(this.intlMessage({intlName:"share-modal.FLICKR_SHARE_ERROR"}));else if("flickr-share-success"===i[0]){var l=s.one(".fake-input");l.removeClass("not-empty"),l.all(".pill").remove(),s.one(".email-message-text-field").set("value",""),s.one(".email-recipient-text-field").setStyle("width","inherit"),s.one(".share-by-email").set("disabled",!0),this.contacts.resetSearch(),this.to={},this.flickrShare.recipients=[],this._onWarning(this.intlMessage({intlName:"share-modal.FLICKR_SHARE_SUCCESS"}),this.intlMessage({intlName:"share-modal.FLICKR_SHARE_SUCCESS_TITLE"}),!0)}else if("guestpass-created"===i[0]){this.guestPasses[""+i[1]]=i[2],n.set("value",i[2]),"grabLinkItem"===r&&this.selectInput(n),this.endGuestpassLoader();var o=s.one(".embed-code-text-field");if(o){var h=s.one(".embed-code-text-field").get("value"),d=/href=".*?"/,c='href="'+i[2]+'"';o.set("value",h.replace(d,c)),this.linkShareParams.url=a(i[2]).pathname,this.linkShareDisplay.embedr.sizes.forEach(function(e){e.embedCode&&(e.embedCode=e.embedCode.replace(d,c))}),this.linkShareDisplay.embedr.sizes=this.linkShareDisplay.embedr.sizes.filter(function(e){return"o"!==e.sizeKey})}}else"guestpass-failed"===i[0]?(s.one(".grab-link-permission-label")&&s.one(".grab-link-permission-label").set("text",this.intlMessage({intlName:"share-modal.SHARE_PUBLIC_ONLY"})),n.set("value",this.linkShareParams.shortURL),this.endGuestpassLoader(),this._onWarning(this.intlMessage({intlName:"share-modal.GUESTPASS_CREATION_FAILURE"}))):"generated-link"===i[0]&&(s.one(".grab-link-text-field").set("text",i[1]),n.set("value",i[1]),this.selectInput(n),this.endGuestpassLoader())},setHighlightWidths:function(){var t,i,s,a,n=this.get("container"),r=n.one(".link-type-highlight"),l=0,o=n.one(".link-grab-type-button").getDOMNode().offsetLeft,h=e.StorageHelper.getItem("fluid-share-panel-first-selected")||"grabLinkItem";for(t=[{name:"grabLinkItem",element:n.one(".link-grab-type-button")},{name:"embedItem",element:n.one(".embed-type-button")},{name:"iframeItem",element:n.one(".iframe-type-button")},{name:"emailItem",element:n.one(".email-type-button")},{name:"bbCodeItem",element:n.one(".bbcode-type-button")}],this.highlightWidths={},a=0;a<t.length;a++)(s=t[a]).element?(l=parseInt(s.element.get("clientWidth"),10),this.highlightWidths[s.name]={width:l,left:o+"px"},o+=l+24):s.name===h&&(h="grabLinkItem");1===Object.keys(this.highlightWidths).length&&(h="grabLinkItem"),i=t.filter(function(e){return e.name===h})[0].element,r.setStyles(this.highlightWidths[h]),this._toggleLinkSelection({target:i},n)},_toggleLinkSelection:function(t,i){var s,a=i.one(".link-type-highlight"),n=t.target.ancestor(".link-type-buttons",!0).get("children").indexOf(t.target);i.one(".share-link-types").toggleClass("first-stop",0===n).toggleClass("second-stop",1===n).toggleClass("third-stop",2===n).toggleClass("fourth-stop",3===n),t.target.hasClass("link-grab-type-button")?(s=this.highlightWidths.grabLinkItem,this.selectInput(i.one(".grab-link-text-field")),e.StorageHelper.setItem("fluid-share-panel-first-selected","grabLinkItem"),e.rapidTracker.beacon(this.name,"grabLinkTabClick"),this.manageTabbables(".grab-link-only")):t.target.hasClass("embed-type-button")?(s=this.highlightWidths.embedItem,this.linkShareParams.isNonPublic||this.selectInput(i.one(".embed-code-text-field")),e.StorageHelper.setItem("fluid-share-panel-first-selected","embedItem"),e.rapidTracker.beacon(this.name,"embedTabClick")):t.target.hasClass("iframe-type-button")?(s=this.highlightWidths.iframeItem,this.selectInput(i.one(".iframe-code-text-field")),e.StorageHelper.setItem("fluid-share-panel-first-selected","iframeItem"),e.rapidTracker.beacon(this.name,"iframeTabClick")):t.target.hasClass("bbcode-type-button")?(s=this.highlightWidths.bbCodeItem,this.selectInput(i.one(".bb-code-text-field")),e.StorageHelper.setItem("fluid-share-panel-first-selected","bbCodeItem"),e.rapidTracker.beacon(this.name,"bbCodeTabClick")):t.target.hasClass("email-type-button")&&(this.appContext.getViewer().signedIn?(s=this.highlightWidths.emailItem,e.StorageHelper.setItem("fluid-share-panel-first-selected","emailItem"),e.rapidTracker.beacon(this.name,"emailTabClick")):this.fire("subviewViewEvent","confirm-sign-in"),this.manageTabbables(".email-sharing-panel")),a.setStyles(s)},_createDropdown:function(t,i,s,a,n){var r=this;n&&!n.isClosed||((n=new e.Views.FluidDroparound({appContext:this.appContext,showDropArrow:!0,hideModalOverlay:!0,classList:"over-modal",overlayClassList:"over-modal",anchorElement:t.one("."+i+" .dropdown-arrow"),observePageResize:!0,menuItems:s,forceLeft:!0,anchorOffsetHorizontal:16,closeOnResize:!0})).on("selected",function(e){n.close(),a.bind(r)(e),r.setHighlightWidths()}),n.show())},_createdDropdownForEmbedIframeBB:function(t,i){var s,a,l,o;t.target.ancestor(".embed-size-field",!0).hasClass("embed-code-size-field")?(s="embed-code-size-field",a="embedr"):t.target.ancestor(".embed-size-field",!0).hasClass("iframe-code-size-field")?(s="iframe-code-size-field",a="iframe"):t.target.ancestor(".embed-size-field",!0).hasClass("bb-code-size-field")&&(s="bb-code-size-field",a="bbCode"),l=this.linkShareDisplay[a].sizes,o=r.concat(["o"]),this._createDropdown(i,s,Object.keys(l).map(function(e){return{text:l[e].sizeStr,value:l[e].sizeKey}}).sort(function(e,t){return o.indexOf(e.value)<o.indexOf(t.value)?-1:1}),function(t){var r;t&&t.menuItem&&(l.some(function(e){return e.sizeKey===t.menuItem.value&&(r=e.sizeKey,i.one("."+n[s]).set("value",e.embedCode),i.one("."+s).one(".embed-code-label").set("text",e.sizeStr),!0)}),e.StorageHelper.setItem("fluid-share-panel-"+a+"-default-size",r))},this.dropdowns[a])},_createGrabLinkPermissionDropdown:function(e,t){var i=this;this._createDropdown(t,"grab-link-field",this.PERMISSIONS,function(e){if(e&&e.menuItem){var s=e.menuItem.value,a=t.one(".grab-link-text-field"),n=t.one(".grab-link-privacy-reminder");if(t.one(".grab-link-permission-label").set("text",e.menuItem.text),"public"===s)a.set("value",i.linkShareParams.shortURL),n.addClass("hide-reminder");else{var r=0,l=0,o=0;"friends"===s?r=1:"family"===s&&(l=1),"family_and_friends"===s?(l=1,r=1):"private"===s&&(o=1),n.removeClass("hide-reminder"),i.requestGuestpass(l,r,o)}}},this.dropdowns.grabLink)},_createMailPermissionDropdown:function(e,t){var i=this;this._createDropdown(t,"mail-perm-field",this.PERMISSIONS,function(e){e&&e.menuItem&&(t.one(".mail-permission-label").set("text",e.menuItem.text),i.flickrShare.guestpassStr=e.menuItem.value)},this.dropdowns.mail)},_onShareByEmail:function(e){this.fire("subviewViewEvent","share-by-email",{recipients:this.flickrShare.recipients,guestpassStr:this.flickrShare.guestpassStr,message:this.get("container").one(".email-message-text-field").get("value")})},manageTabbables:function(e){var t=this.get("container");t.all(".link-type-content:not("+e+") .tabbable").setAttribute("tabindex","-1"),t.all(e+" .tabbable").setAttribute("tabindex","0")},generateLinkSharingDisplay:function(t){var s=this,a={link:t.url,isNonPublic:t.isNonPublic},n=t.sizes?Object.keys(t.sizes):[];return n.length>0&&t.supportsEmbedr&&(s.appContext.flipper.isFlipped("enable-embedr-in-share")?a.embedr={sizes:Object.keys(t.sizes).map(function(a){return{sizeKey:a,sizeStr:s.getSizeStr(a)+" "+t.sizes[a].width+" × "+t.sizes[a].height,embedCode:s.templates("fluid-share-embedr-code")({embedLink:e.url(t.url),title:t.title,farmURL:e.URLHelper.addProtocolToURL(i(t.sizes[a])),width:t.sizes[a].width,height:t.sizes[a].height,alt:t.title,displayOptions:l,showSlideshowOption:void 0!==s.linkShareParams.albumId||void 0!==s.linkShareParams.galleryId})}})}:(a.embedr={sizes:Object.keys(t.sizes).map(function(a){return{sizeKey:a,sizeStr:s.getSizeStr(a)+" "+t.sizes[a].width+" × "+t.sizes[a].height,embedCode:s.templates("fluid-share-old-html-embed-code")({embedLink:e.url(t.url),title:t.title,authorName:t.author,farmURL:e.URLHelper.addProtocolToURL(i(t.sizes[a])),width:t.sizes[a].width,height:t.sizes[a].height,alt:t.title})}})},a.iframe={sizes:Object.keys(t.sizes).map(function(a){var n;return"/"!==(n=e.config.win.location.href)[n.length-1]&&(n+="/"),n+="player/",{sizeKey:a,sizeStr:s.getSizeStr(a)+" "+t.sizes[a].width+" × "+t.sizes[a].height,embedCode:s.templates("fluid-share-old-iframe-embed-code")({embedLink:n,title:t.title,farmURL:e.URLHelper.addProtocolToURL(i(t.sizes[a])),width:t.sizes[a].width,height:t.sizes[a].height,alt:t.title})}})})),n.length>0&&t.supportsBBCode&&(a.bbCode={sizes:Object.keys(t.sizes).map(function(a){return{sizeKey:a,sizeStr:s.getSizeStr(a)+" "+t.sizes[a].width+" × "+t.sizes[a].height,embedCode:s.templates("fluid-share-bb-code")({title:t.title,farmURL:e.URLHelper.addProtocolToURL(i(t.sizes[a])),shortURL:t.shortURL,authorURL:e.url(t.authorURL),authorName:t.author})}})}),a},getSizeStr:function(e){var t="";return["sq","q"].indexOf(e)>-1?t=this.intlMessage({intlName:"common.SQUARE"}):"t"===e?t=this.intlMessage({intlName:"common.THUMBNAIL"}):["s","n"].indexOf(e)>-1?t=this.intlMessage({intlName:"common.SMALL"}):["m","z","c"].indexOf(e)>-1?t=this.intlMessage({intlName:"common.MEDIUM"}):["l","h","k"].indexOf(e)>-1?t=this.intlMessage({intlName:"common.LARGE"}):"o"===e&&(t=this.intlMessage({intlName:"common.ORIGINAL"})),t},requestGuestpass:function(e,t,i){var s=this.get("container").one(".grab-link-text-field"),a=""+e+t+i;if(this.guestPasses[a])s.set("value",this.guestPasses[a]);else{var n={is_private:i,is_family:e,is_friend:t},r=this.guestPassParams.type,l=this.guestPassParams.id;"photo"===r&&(n.photo=l),"photostream"===r&&(n.photostream=l),"set"===r&&(n.set=l),this.startGuestpassLoader(),this.fire("subviewViewEvent","request-guestpass",a,n)}},startGuestpassLoader:function(){var e=this;setTimeout(function(){if(!e.guestpassLoaded){var t=e.get("container").one(".grab-link-loader");t.setStyle("display","block"),t.addClass("show-loader")}},50)},endGuestpassLoader:function(){var e=this.get("container").one(".grab-link-loader");this.guestpassLoaded=!0,e.removeClass("show-loader"),setTimeout(function(){this.guestpassLoaded&&e.setStyle("display","none")}.bind(this),500)},setupEmailSharing:function(){var t=this.get("container"),i=t.one(".email-recipient-text-field"),s=this.fakeInput=t.one(".fake-input"),a=this.input=this.get("container").one('[data-field="recipient"]'),n=t.one(".email-message-text-field"),r=t.one(".share-by-email"),l=this;this.focus&&(setTimeout(function(){i.focus()},100),this.focus=!1),i&&(this.to={},this.arrow=e.Node.create('<span class="ui-dialog-arrow contact-autocomplete-arrow"></span>'),i.on("focus",function(){s.addClass("focus"),""===a.get("value")?l.contacts.hide():l.contacts.search(),l._adjustInputWidth()}),i.on("blur",function(){a.ancestor(".fake-input").one(".pill")||t.one(".email-recipient-text-field").setStyle("width","inherit")}),a.on("blur",function(){var e,t=!1;(e=l.contacts.selected)&&e.email&&(t=!0,l._makePill(e,t),l.contacts.selected=null,l.get("container").one(".fake-input").insertBefore(a,l.contacts.wrapperEl)),s.removeClass("focus")}),a.on("keydown",function(e){var t,i;8===e.keyCode?(""===this.get("value")&&(i=l.get("container").all(".pill").pop())&&i.fire("remove"),setTimeout(function(){l._adjustInputWidth()},0)):(13===e.keyCode||9===e.keyCode&&!e.shiftKey||32===e.keyCode||188===e.keyCode)&&((t=l.contacts.selected)&&t.email?(e.preventDefault(),l._makePill(t),l.contacts.selected=null,l._arrangeInput()):13!==e.keyCode||l.contacts.selected||(e.preventDefault(),""===this.get("value")&&l.get("container").one('[data-field="message"]').focus()))}),a.on("keypress",function(e){var t=this.get("value");l._adjustInputWidth(t+String.fromCharCode(e.which)),l.contacts._reposition(),this.show()}),a.on("keyup",function(t){0===e.Object.size(l.to)&&""===l.input.get("value")?r.setAttribute("disabled",!0):r.removeAttribute("disabled"),8===t.keyCode&&""===this.get("value")&&l._arrangeInput()}),n.on("keydown",function(e){9!==e.keyCode||e.shiftKey||(e.preventDefault(),r.focus())}),this.appContext.flipper.isFlipped("enable-share-restyle")||n.on("keyup",function(t){var i=""===n.get("value").trim(),s=0===e.Object.size(l.to)&&""===l.input.get("value");i||s?r.setAttribute("disabled",!0):r.removeAttribute("disabled")}),s.delegate("click",function(e){l._arrangeInput()},".fake-input"),s.delegate("mouseover",function(e){var t=e.currentTarget,i=s.get("clientWidth"),a=t.get("offsetLeft"),n=parseInt(t.getComputedStyle("width").replace("px",""),10);l.appContext.flipper.isFlipped("enable-share-restyle")&&(a=t.get("offsetLeft")-s.get("offsetLeft")),i-a-n-10>0?(t.addClass("not-eol"),t.removeClass("end-of-the-line")):(t.removeClass("not-eol"),t.addClass("end-of-the-line"))},".pill"),this.contacts=new e.ContactSearchBox({el:i,appContext:this.appContext,shim:"c-contact-search-shim",signedOut:!this.appContext.getViewer().signedIn,alwaysDownward:!0,DOMContainer:t.one(".share-panel-body").getDOMNode(),loadingState:this.templates(e.Balls())(),onError:function(){i.blur(),l.contacts.hide()},onShow:function(e){var t=l.get("container"),i=l.get("container").one(".contact-list");t.on("click",function(e){"INPUT"!==e.target.get("tagName")&&"block"===i.getStyle("display")&&l.contacts.hide()})},onSelect:function(e,t){e&&e.nsid&&(l._makePill(e),l._arrangeInput())},dialogOffset:function(){var e=l.fakeInput.getDOMNode().getBoundingClientRect(),t=l.input.getDOMNode().getBoundingClientRect();return e.height-t.height+10}}))},_adjustInputWidth:function(t){var i,s,a,n=this.get("container"),r=n.one(".share-by-email"),l=this;return t=t||this.input.get("value"),0===e.Object.size(this.to)&&""===t?((s=n.one(".fake-input")).removeClass("not-empty"),i=s.get("clientWidth"),""!==n.one(".email-message-text-field").get("value").trim()&&r.setAttribute("disabled",!0),this.input.setStyle("width",i-20),setTimeout(function(){l.input.focus()},10),i):((a=e.Node.create('<span class="width-check"></span>')).set("innerHTML",escape(t)),this.get("container").appendChild(a),i=a.get("clientWidth")||0,a.remove(),this.input.setStyle("width",(i||30)+5+"px"),setTimeout(function(){l.input.focus()},10),i)},_makePill:function(e,t){var i,s=escape(e.realname||e.email),a=this.templates("share-modal-mail-pill")({value:s}),n=this.get("container"),r=n.one(".share-by-email"),l=n.one(".fake-input"),o=this;l.addClass("not-empty"),""!==n.one(".email-message-text-field").get("value").trim()&&r.removeAttribute("disabled"),this.to[s]=e,o.completeSameEvent&&o.completeSameEvent.detach(),(i=l.insertBefore(a,this.contacts.wrapperEl)).on("remove",function(t){e.nsid?o.contacts.showInSearch(e.nsid):e.email&&!t&&(o.input.set("value",i.one("span:first-child").get("innerHTML")),o._adjustInputWidth()),delete o.to[s],i.remove(),o.flickrShare.recipients.some(function(t,i){return!!(t.nsid&&t.nsid===e.nsid||!t.nsid&&t.name&&t.name===e.name)&&(o.flickrShare.recipients.splice(i,1),!0)})}),i.delegate("click",function(e){e.stopPropagation(),i.fire("remove",!0),o.input.focus()},".remove-tag"),i.on("dblclick",function(t){t.stopPropagation();var a=o.input;a.set("value",s),o._adjustInputWidth(s),i.replace(a),i.fire("remove"),setTimeout(function(){a.focus()},10),o.contacts.search(),o.completeSameEvent=a.once("blur",function(t){a.get("value")===s&&(o._makePill(e),o.input.set("value",""),o._arrangeInput())})}),e.nsid&&this.contacts.hideFromSearch(e.nsid),this.flickrShare.recipients.push(e),this.input.set("value",""),t||(this.input.focus(),o._adjustInputWidth())},_arrangeInput:function(){var e=this.input;this.get("container").one(".fake-input").insertBefore(e,this.contacts.wrapperEl),setTimeout(function(){e.focus()},10)},_onWarning:function(t,i,s){var a=e.Node.create(this.templates("fluid-warning")({message:t,title:i})),n=e.Node.create("<div></div>"),r=this.get("container"),l=this,o=(r.get("clientWidth")+20)/2-260,h=(r.get("clientHeight")+20)/2-60;a.setStyle("width",500),a.setStyle("height",100),a.setStyle("left",o),a.setStyle("top",h),n.setStyle("left",0),n.setStyle("top",0),n.setStyle("width","100%"),n.setStyle("height","100%"),n.addClass("warning-modal"),r.append(n),n.append(a),n.on("click",function(){n.remove(!0),s&&l.fire("subviewViewEvent","closeAll")})},_updateEmbedrOptions:function(t){var i=t.target.getData("setting"),s=t.target.getDOMNode().checked,a=this.get("container"),r=e.StorageHelper.getItem("fluid-share-panel-embedr-default-size"),o=a.one(".embed-demo-container");l[i]=s?"true":"false",this.linkShareDisplay=this.generateLinkSharingDisplay(this.linkShareParams),this.linkShareDisplay.embedr.sizes.some(function(e){if(e.sizeKey===r)return a.one("."+n["embed-code-size-field"]).set("value",e.embedCode),a.one(".embed-code-size-field").one(".embed-code-label").set("text",e.sizeStr),!0}),"true"===l.header?o.addClass("show-header"):o.removeClass("show-header"),"true"===l.footer?o.addClass("show-footer"):o.removeClass("show-footer"),this.selectInput(a.one(".embed-code-text-field")),e.StorageHelper.setItem("embedr-options",JSON.stringify(l))},selectInput:function(e){e.getDOMNode&&(e=e.getDOMNode()),e.setSelectionRange&&e.setSelectionRange(0,999)}})},"@VERSION@",{requires:["flickr-view","promise","hermes-template-fluid-share-panel","hermes-template-fluid-share-panel-restyle","fluid-droparound-view","hermes-template-fluid-share-embedr-code","hermes-template-fluid-share-bb-code","hermes-template-share-modal-mail-pill","hermes-template-fluid-warning","hermes-template-fluid-share-panel-error","hermes-template-fluid-share-old-html-embed-code","hermes-template-fluid-share-old-iframe-embed-code","fluid-modal-view","contact-search-box","html5-balls","overflow-helper","url-helper","storage-helper"],optionalRequires:["global-events"],langBundles:["share-modal","common"]});YUI.add("hermes-lang-share-modal",function(e,o){e.Intl.add("hermes/share-modal","en-US",{SHARE_ON_BLOGGER:["Share on Blogger"],SHARE_PHOTO:["Share Photo"],SHARE_PHOTOS:["Share photos"],SHARE_VIDEO:["Share Video"],PLEASE_AUTHORIZE_FLICKR_TO_POST_ON_BLOGGER:["please authorize Flickr to post on Blogger"],SHARE_ON_FACEBOOK:["Share on Facebook"],PLEASE_AUTHORIZE_FLICKR_TO_POST_ON_FACEBOOK:["please authorize Flickr to post on Facebook"],SHARE_VIA_MAIL:["Share via mail"],SHARE_ON_TUMBLR:["Share on Tumblr"],PLEASE_AUTHORIZE_FLICKR_TO_POST_ON_TUMBLR:["please authorize Flickr to post on Tumblr"],PUBLISH_NOW:["Publish now"],ADD_TO_QUEUE:["Add to queue"],SAVE_AS_DRAFT:["Save as draft"],SHARE_ON_TWITTER:["Share on Twitter"],PLEASE_AUTHORIZE_FLICKR_TO_POST_ON_TWITTER:["please authorize Flickr to post on Twitter"],SHARE_PHOTOSTREAM:["Share photostream"],SHARE_ALBUM:["Share album"],SHARE_FAVORITES:["Share favorites"],AUTHORIZE_TO_SHARE:["You need to authorize Flickr to share photos on ","${service}"],CONNECT_TO_SERVICE:["Connect to ","${service}"],OK_TAKE_ME_TO_MY_SETTINGS:["OK, take me to my settings"],POST:["Post"],SHARE:["Share"],FRIENDS:["Friends"],FAMILY:["Family"],SCREEN_NAME_OR_EMAIL:["Screen name or email"],INCLUDE_A_MESSAGE:["Include a message"],SHARE_THIS_VIA:["Share this via..."],SHARE_PREFERENCES:["share preferences"],GRAB_THE_LINK:["Grab the link"],SHOW_SHORT_URL:["show short URL"],INCLUDE_CONTENT_MARKED_AS:["Include content marked as:"],PS_ITEMS_NOT_PUBLIC:["Some of the items in your photostream aren't public."],HERE_IS_PS_LINK:["Here's a link to this photostream. Just copy and paste!"],YOU_CAN_ADD_GUEST_PASS:['You can add a Guest Pass [<a class="guest-pass-link" title="',"${title}",'" data-action="follow" href="/help/sharing/#2184">?</a>] so that recipients can view them.'],ADD_A_GUEST_PASS:["Add a guest pass"],GUEST_PASS_COPY:["Guest Passes let you share your photos that aren't public. Anyone can see your public photos anytime, whether they're a Flickr member or not. But! If you want to share photos marked as friends, family or private, use a Guest Pass. If you're sharing photos from a set, you can create a Guest Pass that includes any of your photos marked as friends, family, or private. If you're sharing your entire photostream, you can create a Guest Pass that includes photos marked as friends or family (but not your private photos)."],VISIT_GUESTPASS_HISTORY:['You can visit your <a href="/invite/history/guests/" data-action="follow">Guest Pass history</a> at any time to expire the Guest Pass.'],SOMETHING_WRONG:["Something went wrong.<br>Please refresh your browser and try again."],ERROR:["Error"],OK:["OK"],SHARE_GROUP:["Share Group"],MESSAGE:["Message"],EMAIL:["Email"],SIGN_IN_TO_EMAIL:["You must be signed in to share a photo. Sign in and try again."],LINK_ACCOUNT:["Link Account"],ACCOUNT_SETTINGS:["Account Settings"],AUTHORIZE_FLICKR:["Authorize Flickr to use your account in the Account Settings page."],COPY_TO_CLIPBOARD:["Press Ctrl+C (Win) or Command+C (Mac) to copy this link when selected"],HTML_EMBED:["HTML Embed"],EMAIL_BODY_PHOTOS:["${username}"," shared ",{type:"plural",valueName:"count",options:{one:"${#} photos",other:"${#} photo"}}," with you!"],EMAIL_BODY_ALBUM:["${username}"," shared an album with you!"],EMAIL_BODY_PHOTOSTREAM:["${username}"," shared their photostream with you!"],SHARE_PHOTOS_TO:[{type:"plural",valueName:"count",options:{one:"Share ${#} photo to:",other:"Share ${#} photos to:"}}],SHARE_VIDEO_TO:[{type:"plural",valueName:"count",options:{one:"Share ${#} video to:",other:"Share ${#} videos to:"}}],SHARE_PHOTOSTREAM_TO:["Share photostream to:"],SHARE_ALBUM_TO:["Share album to:"],SHARE_GALLERY_TO:["Share gallery to:"],SHARE_FAVES_TO:["Share favorites to:"],SHARE_ALBUMS_TO:["Share albums to:"],SHARE_GROUP_TO:["Share group to:"],FACEBOOK:["Facebook"],TUMBLR:["Tumblr"],TWITTER:["Twitter"],PINTEREST:["Pinterest"],MAIL:["Mail"],EMBED:["HTML embed"],EMBED_SIMPLE:["Embed"],HTML:["HTML"],GRAB_LINK:["Grab link"],BBCODE:["BBCode"],VIA_FLICKR:["Via Flickr:"],SHARE_PUBLIC_ONLY:["Public photos only"],SHARE_FRIENDS:["Include photos marked Friends"],SHARE_FAMILY:["Include photos marked Family"],SHARE_FAMILY_AND_FRIENDS:["Include photos marked Family & Friends"],SHARE_FRIENDS_AND_FAMILY:["Include photos marked Friends & Family"],SHARE_PRIVATE:["All photos - public and private"],SHARING_DISABLED:["Sharing is disabled"],ON_FLICKR:["on Flickr"],PHOTO_PRIVATE_MESSAGE:['This photo is private. A guest pass [<a target="_blank" href="/help/sharing/">?</a>] will be added to allow recipients to view it.'],PHOTO_FRIENDS_MESSAGE:['This photo is only visible to friends. A guest pass [<a target="_blank" href="/help/sharing/">?</a>] will be added to allow recipients to view it.'],PHOTO_FAMILY_MESSAGE:['This photo is only visible to family. A guest pass [<a target="_blank" href="/help/sharing/">?</a>] will be added to allow recipients to view it.'],PHOTO_FAMILY_FRIENDS_MESSAGE:['This photo is only visible to friends & family. A guest pass [<a target="_blank" href="/help/sharing/">?</a>] will be added to allow recipients to view it.'],PHOTO_CAMERAROLL_MESSAGE:["All photos being shared will be viewable by the recipient(s) regardless of privacy level."],GUESTPASS_CREATION_FAILURE:["There was an error generating the share link.  Please try again."],CONTACT_SEARCH_ERROR:["There was an error when adding a recipient. Please try again."],FLICKR_SHARE_ERROR:["There was an error sharing on Flickr. Please try again."],FLICKR_SHARE_SUCCESS:["Your items have been shared!"],FLICKR_SHARE_SUCCESS_TITLE:["Success"],CLICK_GENERATE_LINK:["Click to generate a shareable link"],FLICKR_SHARE:["Share"],COPY_MAC:["Press Command+C to copy this link when selected"],COPY_PC:["Press Ctrl+C to copy this link when selected"],CANCEL_SHARE_BECAUSE_ERROR:[{type:"plural",valueName:"photoCount",options:{one:"This photo cannot be shared. Please try again later.",other:"These photos cannot be shared. Please try again later."}}],LINK_PRIVACY_REMINDER:[{type:"plural",valueName:"photoCount",options:{one:"The private photo in this selection will remain private. Only people you share this link with will be able to view it.",other:"The private photos in this selection will remain private. Only people you share this link with will be able to view them."}}],PHOTO_PAGE_PRIVACY_WARNING:["This photo will remain private. Only people you share this link with will be able to view it."],CAMERAROLL_PRIVACY_WARNING:[{type:"plural",valueName:"photoCount",options:{one:"This photo will remain private. Only people you share this link with will be able to view it.",other:"Any private photos in this selection will remain private. Only people you share this link with will be able to view them."}}],ALBUM_PRIVACY_WARNING:[{type:"plural",valueName:"photoCount",options:{one:"The private photo in this album will remain private. Only people you share this link with will be able to view it.",other:"Any private photos in this album will remain private. Only people you share this link with will be able to view them."}}],PHOTOSTREAM_PRIVACY_WARNING:[{type:"plural",valueName:"photoCount",options:{one:"The private photo in your photostream will remain private. Only people you share this link with will be able to view it.",other:"Any private photos in your photostream will remain private. Only people you share this link with will be able to view them."}}],CANCEL_SHARE_BECAUSE_RESTRICTED:["Sorry! You can't share restricted photos."],NO_SHAREABLE_ITEMS:["There are no items available to share."],CANT_SHARE_PRIVATE_GROUP_MESSAGE:['Private groups can only be viewed by the group\'s members. <a data-action="follow" href="',"${inviteURL}","\">Invite friends</a> to join the group if you'd like to share it."],CANT_SHARE_PRIVATE_GROUP_TITLE:["Share a Private Group"],EMBEDR_OPTION_HEADER:["Header"],EMBEDR_OPTION_FOOTER:["Footer"],EMBEDR_OPTION_TRUNCATE:["Truncate"],EMBEDR_OPTION_SLIDESHOW:["Slideshow"],EMBEDR_CHANGE_PRIVACY_WARNING:['You\'re trying to embed one of your private photos! If you still want to embed this photo, you can make it public by selecting "Public" from the privacy menu at the bottom this page.'],ALBUM_DOWNLOAD_ACCESS_YOU:[{type:"plural",valueName:"photoCount",options:{one:"Only you will be able to download this photo.",other:"Only you will be able to download these photos."}}],ALBUM_DOWNLOAD_ACCESS_FF:[{type:"plural",valueName:"photoCount",options:{one:"Only your friends and family will be able to download this photo.",other:"Only your friends and family will be able to download these photos."}}],ALBUM_DOWNLOAD_ACCESS_FOLLOWING:[{type:"plural",valueName:"photoCount",options:{one:"Only people you follow will be able to download this photo.",other:"Only people you follow will be able to download these photos."}}],ALBUM_DOWNLOAD_ACCESS_MEMBERS:[{type:"plural",valueName:"photoCount",options:{one:"Only Flickr members will be able to download this photo.",other:"Only Flickr members will be able to download these photos."}}],ALBUM_DOWNLOAD_ACCESS_EVERYONE:[{type:"plural",valueName:"photoCount",options:{one:"Everyone will be able to download this photo.",other:"Everyone will be able to download these photos."}}],CHANGE_DOWNLOAD_PREF:["(<a href='","${url}","'>Change your download preferences</a>)"],EMBED_WITH_GUESTPASS:["Embed this photo with a guestpass"]})},"@VERSION@",{requires:["intl"]});